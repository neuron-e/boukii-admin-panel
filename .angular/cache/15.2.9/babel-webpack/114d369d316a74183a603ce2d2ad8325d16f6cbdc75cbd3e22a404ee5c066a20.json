{"ast":null,"code":"var _class;\nimport { __decorate } from \"tslib\";\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { MatSidenavContainer } from '@angular/material/sidenav';\nimport { NavigationEnd, Scroll } from '@angular/router';\nimport { filter, map, startWith, withLatestFrom } from 'rxjs/operators';\nimport { checkRouterChildsData } from '../utils/check-router-childs-data';\nimport { DOCUMENT } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/cdk/layout\";\nimport * as i2 from \"../services/layout.service\";\nimport * as i3 from \"../config/config.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/sidenav\";\nimport * as i7 from \"../components/progress-bar/progress-bar.component\";\nimport * as i8 from \"../components/search/search.component\";\nconst _c0 = [\"quickpanel\"];\nconst _c1 = [\"sidenav\"];\nfunction LayoutComponent_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction LayoutComponent_ng_container_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction LayoutComponent_ng_container_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction LayoutComponent_ng_container_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nlet LayoutComponent = (_class = class LayoutComponent {\n  constructor(cd, breakpointObserver, layoutService, configService, router, document) {\n    this.cd = cd;\n    this.breakpointObserver = breakpointObserver;\n    this.layoutService = layoutService;\n    this.configService = configService;\n    this.router = router;\n    this.document = document;\n    this.isLayoutVertical$ = this.configService.config$.pipe(map(config => config.layout === 'vertical'));\n    this.isBoxed$ = this.configService.config$.pipe(map(config => config.boxed));\n    this.isToolbarFixed$ = this.configService.config$.pipe(map(config => config.toolbar.fixed));\n    this.isFooterFixed$ = this.configService.config$.pipe(map(config => config.footer.fixed));\n    this.isFooterVisible$ = this.configService.config$.pipe(map(config => config.footer.visible));\n    this.sidenavCollapsed$ = this.layoutService.sidenavCollapsed$;\n    this.isDesktop$ = this.layoutService.isDesktop$;\n    this.scrollDisabled$ = this.router.events.pipe(filter(event => event instanceof NavigationEnd), startWith(null), map(() => checkRouterChildsData(this.router.routerState.root.snapshot, data => data.scrollDisabled)));\n    this.containerEnabled$ = this.router.events.pipe(filter(event => event instanceof NavigationEnd), startWith(null), map(() => checkRouterChildsData(this.router.routerState.root.snapshot, data => data.containerEnabled)));\n    this.searchOpen$ = this.layoutService.searchOpen$;\n  }\n  ngOnInit() {\n    /**\r\n     * Expand Sidenav when we switch from mobile to desktop view\r\n     */\n    this.isDesktop$.pipe(filter(matches => !matches), untilDestroyed(this)).subscribe(() => this.layoutService.expandSidenav());\n    /**\r\n     * Open/Close Quickpanel through LayoutService\r\n     */\n    this.layoutService.quickpanelOpen$.pipe(untilDestroyed(this)).subscribe(open => open ? this.quickpanel.open() : this.quickpanel.close());\n    /**\r\n     * Open/Close Sidenav through LayoutService\r\n     */\n    this.layoutService.sidenavOpen$.pipe(untilDestroyed(this)).subscribe(open => open ? this.sidenav.open() : this.sidenav.close());\n    /**\r\n     * Mobile only:\r\n     * Close Sidenav after Navigating somewhere (e.g. when a user clicks a link in the Sidenav)\r\n     */\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd), withLatestFrom(this.isDesktop$), filter(([event, matches]) => !matches), untilDestroyed(this)).subscribe(() => this.sidenav.close());\n  }\n  ngAfterViewInit() {\n    /**\r\n     * Enable Scrolling to specific parts of the page using the Router\r\n     */\n    this.router.events.pipe(filter(e => e instanceof Scroll), untilDestroyed(this)).subscribe(e => {\n      if (e.position) {\n        // backward navigation\n        this.sidenavContainer.scrollable.scrollTo({\n          start: e.position[0],\n          top: e.position[1]\n        });\n      } else if (e.anchor) {\n        // anchor navigation\n        const scroll = anchor => this.sidenavContainer.scrollable.scrollTo({\n          behavior: 'smooth',\n          top: anchor.offsetTop,\n          left: anchor.offsetLeft\n        });\n        let anchorElem = this.document.getElementById(e.anchor);\n        if (anchorElem) {\n          scroll(anchorElem);\n        } else {\n          setTimeout(() => {\n            anchorElem = this.document.getElementById(e.anchor);\n            scroll(anchorElem);\n          }, 100);\n        }\n      } else {\n        // forward navigation\n        this.sidenavContainer.scrollable.scrollTo({\n          top: 0,\n          start: 0\n        });\n      }\n    });\n  }\n}, _class.ɵfac = function LayoutComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.BreakpointObserver), i0.ɵɵdirectiveInject(i2.LayoutService), i0.ɵɵdirectiveInject(i3.ConfigService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(DOCUMENT));\n}, _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"vex-layout\"]],\n  viewQuery: function LayoutComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n      i0.ɵɵviewQuery(_c1, 7);\n      i0.ɵɵviewQuery(MatSidenavContainer, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.quickpanel = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sidenav = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sidenavContainer = _t.first);\n    }\n  },\n  inputs: {\n    sidenavRef: \"sidenavRef\",\n    toolbarRef: \"toolbarRef\",\n    footerRef: \"footerRef\",\n    quickpanelRef: \"quickpanelRef\"\n  },\n  decls: 34,\n  vars: 69,\n  consts: [[1, \"page-container\"], [1, \"sidenav-container\"], [1, \"sidenav\", 3, \"disableClose\", \"fixedInViewport\", \"mode\", \"opened\"], [\"sidenav\", \"\"], [4, \"ngTemplateOutlet\"], [\"mode\", \"over\", \"position\", \"end\", 1, \"quickpanel\", 3, \"fixedInViewport\"], [\"quickpanel\", \"\"], [1, \"sidenav-content\"], [1, \"content\"]],\n  template: function LayoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵpipe(2, \"async\");\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵpipe(4, \"async\");\n      i0.ɵɵpipe(5, \"async\");\n      i0.ɵɵpipe(6, \"async\");\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵpipe(8, \"async\");\n      i0.ɵɵpipe(9, \"async\");\n      i0.ɵɵpipe(10, \"async\");\n      i0.ɵɵpipe(11, \"async\");\n      i0.ɵɵpipe(12, \"async\");\n      i0.ɵɵelement(13, \"vex-progress-bar\")(14, \"vex-search\");\n      i0.ɵɵelementStart(15, \"mat-sidenav-container\", 1)(16, \"mat-sidenav\", 2, 3);\n      i0.ɵɵpipe(18, \"async\");\n      i0.ɵɵpipe(19, \"async\");\n      i0.ɵɵpipe(20, \"async\");\n      i0.ɵɵpipe(21, \"async\");\n      i0.ɵɵpipe(22, \"async\");\n      i0.ɵɵpipe(23, \"async\");\n      i0.ɵɵtemplate(24, LayoutComponent_ng_container_24_Template, 1, 0, \"ng-container\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"mat-sidenav\", 5, 6);\n      i0.ɵɵpipe(27, \"async\");\n      i0.ɵɵtemplate(28, LayoutComponent_ng_container_28_Template, 1, 0, \"ng-container\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"mat-sidenav-content\", 7);\n      i0.ɵɵtemplate(30, LayoutComponent_ng_container_30_Template, 1, 0, \"ng-container\", 4);\n      i0.ɵɵelementStart(31, \"main\", 8);\n      i0.ɵɵelement(32, \"router-outlet\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(33, LayoutComponent_ng_container_33_Template, 1, 0, \"ng-container\", 4);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵclassProp(\"boxed\", i0.ɵɵpipeBind1(1, 31, ctx.isBoxed$))(\"horizontal-layout\", !i0.ɵɵpipeBind1(2, 33, ctx.isLayoutVertical$))(\"is-mobile\", !i0.ɵɵpipeBind1(3, 35, ctx.isDesktop$))(\"vertical-layout\", i0.ɵɵpipeBind1(4, 37, ctx.isLayoutVertical$))(\"has-fixed-footer\", i0.ɵɵpipeBind1(5, 39, i0.ɵɵpipeBind1(6, 41, ctx.isFooterFixed$) && ctx.isFooterVisible$))(\"has-footer\", i0.ɵɵpipeBind1(7, 43, ctx.isFooterVisible$))(\"scroll-disabled\", i0.ɵɵpipeBind1(8, 45, ctx.scrollDisabled$))(\"toolbar-fixed\", i0.ɵɵpipeBind1(9, 47, ctx.isToolbarFixed$))(\"sidenav-collapsed\", i0.ɵɵpipeBind1(10, 49, ctx.sidenavCollapsed$))(\"content-container\", i0.ɵɵpipeBind1(11, 51, ctx.containerEnabled$))(\"with-search\", i0.ɵɵpipeBind1(12, 53, ctx.searchOpen$));\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"disableClose\", i0.ɵɵpipeBind1(18, 55, ctx.isDesktop$))(\"fixedInViewport\", !i0.ɵɵpipeBind1(19, 57, ctx.isDesktop$))(\"mode\", !i0.ɵɵpipeBind1(20, 59, ctx.isDesktop$) || i0.ɵɵpipeBind1(21, 61, ctx.isLayoutVertical$) ? \"over\" : \"side\")(\"opened\", i0.ɵɵpipeBind1(22, 63, ctx.isDesktop$) && !i0.ɵɵpipeBind1(23, 65, ctx.isLayoutVertical$));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.sidenavRef);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"fixedInViewport\", !i0.ɵɵpipeBind1(27, 67, ctx.isDesktop$));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.quickpanelRef);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.toolbarRef);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.footerRef);\n    }\n  },\n  dependencies: [i5.NgTemplateOutlet, i4.RouterOutlet, i6.MatSidenav, i6.MatSidenavContainer, i6.MatSidenavContent, i7.ProgressBarComponent, i8.SearchComponent, i5.AsyncPipe],\n  styles: [\".page-container[_ngcontent-%COMP%] {\\n  bottom: 0;\\n  display: flex;\\n  flex-direction: column;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n\\n.sidenav[_ngcontent-%COMP%] {\\n  background: var(--sidenav-background);\\n}\\n.sidenav[_ngcontent-%COMP%]     .mat-drawer-inner-container {\\n  overflow: hidden;\\n}\\n\\n.content[_ngcontent-%COMP%] {\\n  background: var(--background-base);\\n  min-height: calc(100% - var(--toolbar-height) - var(--navigation-height));\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.has-footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] {\\n  min-height: calc(100% - var(--toolbar-height) - var(--navigation-height) - var(--footer-height));\\n}\\n\\n.scroll-disabled[_ngcontent-%COMP%] {\\n  overflow: hidden;\\n}\\n.scroll-disabled[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] {\\n  height: calc(100% - var(--toolbar-height) - var(--navigation-height));\\n  min-height: unset;\\n  overflow: hidden;\\n}\\n.scroll-disabled.has-fixed-footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .scroll-disabled.has-footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] {\\n  height: calc(100% - var(--toolbar-height) - var(--navigation-height) - var(--footer-height));\\n  min-height: unset;\\n}\\n\\n.is-mobile[_ngcontent-%COMP%]     .vex-toolbar {\\n  position: fixed;\\n  width: 100%;\\n}\\n.is-mobile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] {\\n  margin-top: var(--toolbar-height);\\n}\\n\\n.sidenav-container[_ngcontent-%COMP%] {\\n  background: var(--background-base);\\n  height: 100%;\\n  transition: transform 0.5s cubic-bezier(0.2, 1, 0.3, 1);\\n}\\n\\n.sidenav-content[_ngcontent-%COMP%] {\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n}\\n\\n.with-search[_ngcontent-%COMP%] {\\n  overflow: hidden;\\n  position: fixed;\\n}\\n.with-search[_ngcontent-%COMP%]   .sidenav-container[_ngcontent-%COMP%] {\\n  pointer-events: none;\\n  transform: perspective(1000px) translate3d(0, 50vh, 0) rotate3d(1, 0, 0, 30deg);\\n  transform-origin: 50vw 50vh;\\n  transition: transform 0.5s cubic-bezier(0.2, 1, 0.3, 1);\\n  overflow: visible;\\n  border-radius: var(--border-radius);\\n  --tw-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);\\n  --tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);\\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\\n}\\n\\n.toolbar-fixed[_ngcontent-%COMP%]     .vex-toolbar {\\n  position: fixed;\\n  width: var(--toolbar-width);\\n  z-index: 50;\\n}\\n.toolbar-fixed[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] {\\n  margin-top: calc(var(--toolbar-height) + var(--navigation-height));\\n}\\n\\n.has-fixed-footer[_ngcontent-%COMP%]     .vex-footer {\\n  box-shadow: var(--footer-elevation);\\n  position: fixed;\\n}\\n.has-fixed-footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] {\\n  margin-bottom: var(--footer-height);\\n  min-height: calc(100% - var(--toolbar-height) - var(--navigation-height) - var(--footer-height));\\n}\\n.has-fixed-footer.scroll-disabled[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] {\\n  height: calc(100% - var(--toolbar-height) - var(--navigation-height) - var(--footer-height));\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9AdmV4L2xheW91dC9sYXlvdXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxTQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsT0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLE1BQUE7QUFDRjs7QUFFQTtFQUNFLHFDQUFBO0FBQ0Y7QUFDRTtFQUNFLGdCQUFBO0FBQ0o7O0FBR0E7RUFDRSxrQ0FBQTtFQUNBLHlFQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0FBQUY7O0FBR0E7RUFDRSxnR0FBQTtBQUFGOztBQUdBO0VBQ0UsZ0JBQUE7QUFBRjtBQUVFO0VBQ0UscUVBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FBQUo7QUFHRTtFQUVFLDRGQUFBO0VBQ0EsaUJBQUE7QUFGSjs7QUFPRTtFQUNFLGVBQUE7RUFDQSxXQUFBO0FBSko7QUFPRTtFQUNFLGlDQUFBO0FBTEo7O0FBU0E7RUFDRSxrQ0FBQTtFQUNBLFlBQUE7RUFDQSx1REFBQTtBQU5GOztBQVNBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtBQU5GOztBQVNBO0VBQ0UsZ0JBQUE7RUFDQSxlQUFBO0FBTkY7QUFRRTtFQUNFLG9CQUFBO0VBQ0EsK0VBQUE7RUFDQSwyQkFBQTtFQUNBLHVEQUFBO0VBQ0EsaUJBQUE7RUFBQSxtQ0FBQTtFQUFBLGdEQUFBO0VBQUEsNkRBQUE7RUFBQSx1R0FBQTtBQU5KOztBQVdFO0VBQ0UsZUFBQTtFQUNBLDJCQUFBO0VBQ0EsV0FBQTtBQVJKO0FBV0U7RUFDRSxrRUFBQTtBQVRKOztBQWNFO0VBQ0UsbUNBQUE7RUFDQSxlQUFBO0FBWEo7QUFjRTtFQUNFLG1DQUFBO0VBQ0EsZ0dBQUE7QUFaSjtBQWVFO0VBQ0UsNEZBQUE7QUFiSiIsInNvdXJjZXNDb250ZW50IjpbIi5wYWdlLWNvbnRhaW5lciB7XHJcbiAgYm90dG9tOiAwO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBsZWZ0OiAwO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICByaWdodDogMDtcclxuICB0b3A6IDA7XHJcbn1cclxuXHJcbi5zaWRlbmF2IHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1zaWRlbmF2LWJhY2tncm91bmQpO1xyXG5cclxuICA6Om5nLWRlZXAgLm1hdC1kcmF3ZXItaW5uZXItY29udGFpbmVyIHtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgfVxyXG59XHJcblxyXG4uY29udGVudCB7XHJcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1iYXNlKTtcclxuICBtaW4taGVpZ2h0OiBjYWxjKDEwMCUgLSB2YXIoLS10b29sYmFyLWhlaWdodCkgLSB2YXIoLS1uYXZpZ2F0aW9uLWhlaWdodCkpO1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmhhcy1mb290ZXIgLmNvbnRlbnQge1xyXG4gIG1pbi1oZWlnaHQ6IGNhbGMoMTAwJSAtIHZhcigtLXRvb2xiYXItaGVpZ2h0KSAtIHZhcigtLW5hdmlnYXRpb24taGVpZ2h0KSAtIHZhcigtLWZvb3Rlci1oZWlnaHQpKTtcclxufVxyXG5cclxuLnNjcm9sbC1kaXNhYmxlZCB7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuXHJcbiAgLmNvbnRlbnQge1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSB2YXIoLS10b29sYmFyLWhlaWdodCkgLSB2YXIoLS1uYXZpZ2F0aW9uLWhlaWdodCkpO1xyXG4gICAgbWluLWhlaWdodDogdW5zZXQ7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIH1cclxuXHJcbiAgJi5oYXMtZml4ZWQtZm9vdGVyIC5jb250ZW50LFxyXG4gICYuaGFzLWZvb3RlciAuY29udGVudCB7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIHZhcigtLXRvb2xiYXItaGVpZ2h0KSAtIHZhcigtLW5hdmlnYXRpb24taGVpZ2h0KSAtIHZhcigtLWZvb3Rlci1oZWlnaHQpKTtcclxuICAgIG1pbi1oZWlnaHQ6IHVuc2V0O1xyXG4gIH1cclxufVxyXG5cclxuLmlzLW1vYmlsZSB7XHJcbiAgOjpuZy1kZWVwIC52ZXgtdG9vbGJhciB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcblxyXG4gIC5jb250ZW50IHtcclxuICAgIG1hcmdpbi10b3A6IHZhcigtLXRvb2xiYXItaGVpZ2h0KTtcclxuICB9XHJcbn1cclxuXHJcbi5zaWRlbmF2LWNvbnRhaW5lciB7XHJcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1iYXNlKTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC41cyBjdWJpYy1iZXppZXIoLjIsIDEsIC4zLCAxKTtcclxufVxyXG5cclxuLnNpZGVuYXYtY29udGVudCB7XHJcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xyXG4gIG92ZXJmbG93LXk6IGF1dG87XHJcbn1cclxuXHJcbi53aXRoLXNlYXJjaCB7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcblxyXG4gIC5zaWRlbmF2LWNvbnRhaW5lciB7XHJcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoMTAwMHB4KSB0cmFuc2xhdGUzZCgwLCA1MHZoLCAwKSByb3RhdGUzZCgxLCAwLCAwLCAzMGRlZyk7XHJcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiA1MHZ3IDUwdmg7XHJcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjVzIGN1YmljLWJlemllciguMiwgMSwgLjMsIDEpO1xyXG4gICAgQGFwcGx5IHJvdW5kZWQgc2hhZG93LTJ4bCBvdmVyZmxvdy12aXNpYmxlO1xyXG4gIH1cclxufVxyXG5cclxuLnRvb2xiYXItZml4ZWQge1xyXG4gIDo6bmctZGVlcCAudmV4LXRvb2xiYXIge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgd2lkdGg6IHZhcigtLXRvb2xiYXItd2lkdGgpO1xyXG4gICAgei1pbmRleDogNTA7XHJcbiAgfVxyXG5cclxuICAuY29udGVudCB7XHJcbiAgICBtYXJnaW4tdG9wOiBjYWxjKHZhcigtLXRvb2xiYXItaGVpZ2h0KSArIHZhcigtLW5hdmlnYXRpb24taGVpZ2h0KSk7XHJcbiAgfVxyXG59XHJcblxyXG4uaGFzLWZpeGVkLWZvb3RlciB7XHJcbiAgOjpuZy1kZWVwIC52ZXgtZm9vdGVyIHtcclxuICAgIGJveC1zaGFkb3c6IHZhcigtLWZvb3Rlci1lbGV2YXRpb24pO1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gIH1cclxuXHJcbiAgLmNvbnRlbnQge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogdmFyKC0tZm9vdGVyLWhlaWdodCk7XHJcbiAgICBtaW4taGVpZ2h0OiBjYWxjKDEwMCUgLSB2YXIoLS10b29sYmFyLWhlaWdodCkgLSB2YXIoLS1uYXZpZ2F0aW9uLWhlaWdodCkgLSB2YXIoLS1mb290ZXItaGVpZ2h0KSk7XHJcbiAgfVxyXG5cclxuICAmLnNjcm9sbC1kaXNhYmxlZCAuY29udGVudCB7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIHZhcigtLXRvb2xiYXItaGVpZ2h0KSAtIHZhcigtLW5hdmlnYXRpb24taGVpZ2h0KSAtIHZhcigtLWZvb3Rlci1oZWlnaHQpKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n}), _class);\nLayoutComponent = __decorate([UntilDestroy()], LayoutComponent);\nexport { LayoutComponent };","map":{"version":3,"mappings":"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","names":["UntilDestroy","untilDestroyed","MatSidenavContainer","NavigationEnd","Scroll","filter","map","startWith","withLatestFrom","checkRouterChildsData","DOCUMENT","i0","LayoutComponent","constructor","cd","breakpointObserver","layoutService","configService","router","document","config$","pipe","config","layout","boxed","toolbar","fixed","footer","visible","sidenavCollapsed$","isDesktop$","events","event","routerState","root","snapshot","data","scrollDisabled","containerEnabled","searchOpen$","ngOnInit","matches","subscribe","expandSidenav","quickpanelOpen$","open","quickpanel","close","sidenavOpen$","sidenav","ngAfterViewInit","e","position","sidenavContainer","scrollable","scrollTo","start","top","anchor","scroll","behavior","offsetTop","left","offsetLeft","anchorElem","getElementById","setTimeout","selectors","viewQuery"],"sourceRoot":"","sources":["D:\\Projects\\el-sotano-backoffice\\src\\@vex\\layout\\layout.component.ts","D:\\Projects\\el-sotano-backoffice\\src\\@vex\\layout\\layout.component.html"],"sourcesContent":["import { AfterViewInit, ChangeDetectorRef, Component, Inject, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { BreakpointObserver } from '@angular/cdk/layout';\nimport { LayoutService } from '../services/layout.service';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { MatSidenav, MatSidenavContainer } from '@angular/material/sidenav';\nimport { Event, NavigationEnd, Router, Scroll } from '@angular/router';\nimport { filter, map, startWith, withLatestFrom } from 'rxjs/operators';\nimport { checkRouterChildsData } from '../utils/check-router-childs-data';\nimport { DOCUMENT } from '@angular/common';\nimport { ConfigService } from '../config/config.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'vex-layout',\n  templateUrl: './layout.component.html',\n  styleUrls: ['./layout.component.scss']\n})\nexport class LayoutComponent implements OnInit, AfterViewInit {\n\n  @Input() sidenavRef: TemplateRef<any>;\n  @Input() toolbarRef: TemplateRef<any>;\n  @Input() footerRef: TemplateRef<any>;\n  @Input() quickpanelRef: TemplateRef<any>;\n\n  isLayoutVertical$ = this.configService.config$.pipe(map(config => config.layout === 'vertical'));\n  isBoxed$ = this.configService.config$.pipe(map(config => config.boxed));\n  isToolbarFixed$ = this.configService.config$.pipe(map(config => config.toolbar.fixed));\n  isFooterFixed$ = this.configService.config$.pipe(map(config => config.footer.fixed));\n  isFooterVisible$ = this.configService.config$.pipe(map(config => config.footer.visible));\n  sidenavCollapsed$ = this.layoutService.sidenavCollapsed$;\n  isDesktop$ = this.layoutService.isDesktop$;\n\n  scrollDisabled$ = this.router.events.pipe(\n    filter(event => event instanceof NavigationEnd),\n    startWith(null),\n    map(() => checkRouterChildsData(this.router.routerState.root.snapshot, data => data.scrollDisabled))\n  );\n\n  containerEnabled$ = this.router.events.pipe(\n    filter(event => event instanceof NavigationEnd),\n    startWith(null),\n    map(() => checkRouterChildsData(this.router.routerState.root.snapshot, data => data.containerEnabled))\n  );\n\n  searchOpen$ = this.layoutService.searchOpen$;\n\n  @ViewChild('quickpanel', { static: true }) quickpanel: MatSidenav;\n  @ViewChild('sidenav', { static: true }) sidenav: MatSidenav;\n  @ViewChild(MatSidenavContainer, { static: true }) sidenavContainer: MatSidenavContainer;\n\n  constructor(private cd: ChangeDetectorRef,\n              private breakpointObserver: BreakpointObserver,\n              private layoutService: LayoutService,\n              private configService: ConfigService,\n              private router: Router,\n              @Inject(DOCUMENT) private document: Document) { }\n\n  ngOnInit() {\n    /**\n     * Expand Sidenav when we switch from mobile to desktop view\n     */\n    this.isDesktop$.pipe(\n      filter(matches => !matches),\n      untilDestroyed(this)\n    ).subscribe(() => this.layoutService.expandSidenav());\n\n    /**\n     * Open/Close Quickpanel through LayoutService\n     */\n    this.layoutService.quickpanelOpen$.pipe(\n      untilDestroyed(this)\n    ).subscribe(open => open ? this.quickpanel.open() : this.quickpanel.close());\n\n    /**\n     * Open/Close Sidenav through LayoutService\n     */\n    this.layoutService.sidenavOpen$.pipe(\n      untilDestroyed(this)\n    ).subscribe(open => open ? this.sidenav.open() : this.sidenav.close());\n\n    /**\n     * Mobile only:\n     * Close Sidenav after Navigating somewhere (e.g. when a user clicks a link in the Sidenav)\n     */\n    this.router.events.pipe(\n      filter(event => event instanceof NavigationEnd),\n      withLatestFrom(this.isDesktop$),\n      filter(([event, matches]) => !matches),\n      untilDestroyed(this)\n    ).subscribe(() => this.sidenav.close());\n  }\n\n  ngAfterViewInit(): void {\n    /**\n     * Enable Scrolling to specific parts of the page using the Router\n     */\n    this.router.events.pipe(\n      filter<Event, Scroll>((e: Event): e is Scroll => e instanceof Scroll),\n      untilDestroyed(this)\n    ).subscribe(e => {\n      if (e.position) {\n        // backward navigation\n        this.sidenavContainer.scrollable.scrollTo({\n          start: e.position[0],\n          top: e.position[1]\n        });\n      } else if (e.anchor) {\n        // anchor navigation\n\n        const scroll = (anchor: HTMLElement) => this.sidenavContainer.scrollable.scrollTo({\n          behavior: 'smooth',\n          top: anchor.offsetTop,\n          left: anchor.offsetLeft\n        });\n\n        let anchorElem = this.document.getElementById(e.anchor);\n\n        if (anchorElem) {\n          scroll(anchorElem);\n        } else {\n          setTimeout(() => {\n            anchorElem = this.document.getElementById(e.anchor);\n            scroll(anchorElem);\n          }, 100);\n        }\n      } else {\n        // forward navigation\n        this.sidenavContainer.scrollable.scrollTo({\n          top: 0,\n          start: 0\n        });\n      }\n    });\n  }\n}\n","<div [class.boxed]=\"isBoxed$ | async\"\r\n     [class.horizontal-layout]=\"!(isLayoutVertical$ | async)\"\r\n     [class.is-mobile]=\"!(isDesktop$ | async)\"\r\n     [class.vertical-layout]=\"isLayoutVertical$ | async\"\r\n     [class.has-fixed-footer]=\"(isFooterFixed$ | async) && isFooterVisible$ | async\"\r\n     [class.has-footer]=\"isFooterVisible$ | async\"\r\n     [class.scroll-disabled]=\"scrollDisabled$ | async\"\r\n     [class.toolbar-fixed]=\"isToolbarFixed$ | async\"\r\n     [class.sidenav-collapsed]=\"sidenavCollapsed$ | async\"\r\n     [class.content-container]=\"containerEnabled$ | async\"\r\n     [class.with-search]=\"searchOpen$ | async\"\r\n     class=\"page-container\">\r\n\r\n  <vex-progress-bar></vex-progress-bar>\r\n\r\n  <vex-search></vex-search>\r\n\r\n  <mat-sidenav-container class=\"sidenav-container\">\r\n    <mat-sidenav #sidenav\r\n                 [disableClose]=\"isDesktop$ | async\"\r\n                 [fixedInViewport]=\"!(isDesktop$ | async)\"\r\n                 [mode]=\"!(isDesktop$ | async) || (isLayoutVertical$ | async) ? 'over' : 'side'\"\r\n                 [opened]=\"(isDesktop$ | async) && !(isLayoutVertical$ | async)\"\r\n                 class=\"sidenav\">\r\n      <ng-container *ngTemplateOutlet=\"sidenavRef\"></ng-container>\r\n    </mat-sidenav>\r\n\r\n    <mat-sidenav #quickpanel\r\n                 [fixedInViewport]=\"!(isDesktop$ | async)\"\r\n                 class=\"quickpanel\"\r\n                 mode=\"over\"\r\n                 position=\"end\">\r\n      <ng-container *ngTemplateOutlet=\"quickpanelRef\"></ng-container>\r\n    </mat-sidenav>\r\n\r\n    <mat-sidenav-content class=\"sidenav-content\">\r\n      <ng-container *ngTemplateOutlet=\"toolbarRef\"></ng-container>\r\n\r\n      <main class=\"content\">\r\n        <router-outlet></router-outlet>\r\n      </main>\r\n\r\n      <ng-container *ngTemplateOutlet=\"footerRef\"></ng-container>\r\n    </mat-sidenav-content>\r\n  </mat-sidenav-container>\r\n</div>\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}