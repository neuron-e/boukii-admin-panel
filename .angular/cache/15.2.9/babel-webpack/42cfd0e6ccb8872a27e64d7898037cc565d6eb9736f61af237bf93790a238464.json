{"ast":null,"code":"var _class;\nimport { __decorate } from \"tslib\";\nimport { filter, map, startWith } from 'rxjs/operators';\nimport { NavigationEnd } from '@angular/router';\nimport { checkRouterChildsData } from '../../@vex/utils/check-router-childs-data';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../@vex/services/layout.service\";\nimport * as i2 from \"../../@vex/config/config.service\";\nimport * as i3 from \"@angular/cdk/layout\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../@vex/layout/layout.component\";\nimport * as i7 from \"../../@vex/layout/sidenav/sidenav.component\";\nimport * as i8 from \"../../@vex/layout/toolbar/toolbar.component\";\nimport * as i9 from \"../../@vex/layout/footer/footer.component\";\nimport * as i10 from \"../../@vex/components/config-panel/config-panel.component\";\nimport * as i11 from \"../../@vex/components/sidebar/sidebar.component\";\nimport * as i12 from \"../../@vex/layout/quickpanel/quickpanel.component\";\nconst _c0 = [\"configpanel\"];\nfunction CustomLayoutComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"vex-sidenav\", 7);\n    i0.ɵɵpipe(1, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"collapsed\", i0.ɵɵpipeBind1(1, 1, ctx_r1.sidenavCollapsed$));\n  }\n}\nfunction CustomLayoutComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"vex-toolbar\", 8);\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵpipe(2, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"hasShadow\", i0.ɵɵpipeBind1(1, 2, ctx_r3.toolbarShadowEnabled$))(\"mobileQuery\", !i0.ɵɵpipeBind1(2, 4, ctx_r3.isDesktop$));\n  }\n}\nfunction CustomLayoutComponent_ng_template_4_vex_footer_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"vex-footer\", 10);\n  }\n}\nfunction CustomLayoutComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CustomLayoutComponent_ng_template_4_vex_footer_0_Template, 1, 0, \"vex-footer\", 9);\n    i0.ɵɵpipe(1, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx_r5.isFooterVisible$));\n  }\n}\nfunction CustomLayoutComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"vex-quickpanel\");\n  }\n}\nlet CustomLayoutComponent = (_class = class CustomLayoutComponent {\n  constructor(layoutService, configService, breakpointObserver, router) {\n    this.layoutService = layoutService;\n    this.configService = configService;\n    this.breakpointObserver = breakpointObserver;\n    this.router = router;\n    this.sidenavCollapsed$ = this.layoutService.sidenavCollapsed$;\n    this.isFooterVisible$ = this.configService.config$.pipe(map(config => config.footer.visible));\n    this.isDesktop$ = this.layoutService.isDesktop$;\n    this.toolbarShadowEnabled$ = this.router.events.pipe(filter(event => event instanceof NavigationEnd), startWith(null), map(() => checkRouterChildsData(this.router.routerState.root.snapshot, data => data.toolbarShadowEnabled)));\n  }\n  ngOnInit() {\n    this.layoutService.configpanelOpen$.pipe(untilDestroyed(this)).subscribe(open => open ? this.configpanel.open() : this.configpanel.close());\n  }\n}, _class.ɵfac = function CustomLayoutComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.LayoutService), i0.ɵɵdirectiveInject(i2.ConfigService), i0.ɵɵdirectiveInject(i3.BreakpointObserver), i0.ɵɵdirectiveInject(i4.Router));\n}, _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"vex-custom-layout\"]],\n  viewQuery: function CustomLayoutComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.configpanel = _t.first);\n    }\n  },\n  decls: 12,\n  vars: 5,\n  consts: [[\"sidenavRef\", \"\"], [\"toolbarRef\", \"\"], [\"footerRef\", \"\"], [\"quickpanelRef\", \"\"], [3, \"footerRef\", \"quickpanelRef\", \"sidenavRef\", \"toolbarRef\"], [\"position\", \"right\", 3, \"invisibleBackdrop\"], [\"configpanel\", \"\"], [3, \"collapsed\"], [1, \"vex-toolbar\", 3, \"hasShadow\", \"mobileQuery\"], [\"class\", \"vex-footer\", 4, \"ngIf\"], [1, \"vex-footer\"]],\n  template: function CustomLayoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CustomLayoutComponent_ng_template_0_Template, 2, 3, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(2, CustomLayoutComponent_ng_template_2_Template, 3, 6, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(4, CustomLayoutComponent_ng_template_4_Template, 2, 3, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(6, CustomLayoutComponent_ng_template_6_Template, 1, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelement(8, \"vex-layout\", 4);\n      i0.ɵɵelementStart(9, \"vex-sidebar\", 5, 6);\n      i0.ɵɵelement(11, \"vex-config-panel\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(1);\n      const _r2 = i0.ɵɵreference(3);\n      const _r4 = i0.ɵɵreference(5);\n      const _r6 = i0.ɵɵreference(7);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"footerRef\", _r4)(\"quickpanelRef\", _r6)(\"sidenavRef\", _r0)(\"toolbarRef\", _r2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"invisibleBackdrop\", true);\n    }\n  },\n  dependencies: [i5.NgIf, i6.LayoutComponent, i7.SidenavComponent, i8.ToolbarComponent, i9.FooterComponent, i10.ConfigPanelComponent, i11.SidebarComponent, i12.QuickpanelComponent, i5.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n}), _class);\nCustomLayoutComponent = __decorate([UntilDestroy()], CustomLayoutComponent);\nexport { CustomLayoutComponent };","map":{"version":3,"mappings":";;AAEA,SAASA,MAAM,EAAEC,GAAG,EAAEC,SAAS,QAAQ,gBAAgB;AACvD,SAASC,aAAa,QAAgB,iBAAiB;AACvD,SAASC,qBAAqB,QAAQ,2CAA2C;AAGjF,SAASC,YAAY,EAAEC,cAAc,QAAQ,uBAAuB;;;;;;;;;;;;;;;;;ICNlEC,iCAAmE;;;;;IAAtDA,0EAAuC;;;;;IAIpDA,iCAE+C;;;;;;IAFlCA,8EAA2C;;;;;IAMxDA,iCAA6E;;;;;IAA7EA,kGAA6E;;;;;IAAhEA,oEAA8B;;;;;IAI3CA,iCAAiC;;;ADE5B,IAAMC,qBAAqB,aAA3B,MAAMA,qBAAqB;EAchCC,YAAoBC,aAA4B,EAC5BC,aAA4B,EAC5BC,kBAAsC,EACtCC,MAAc;IAHd,kBAAa,GAAbH,aAAa;IACb,kBAAa,GAAbC,aAAa;IACb,uBAAkB,GAAlBC,kBAAkB;IAClB,WAAM,GAANC,MAAM;IAf1B,sBAAiB,GAAG,IAAI,CAACH,aAAa,CAACI,iBAAiB;IACxD,qBAAgB,GAAG,IAAI,CAACH,aAAa,CAACI,OAAO,CAACC,IAAI,CAACf,GAAG,CAACgB,MAAM,IAAIA,MAAM,CAACC,MAAM,CAACC,OAAO,CAAC,CAAC;IACxF,eAAU,GAAG,IAAI,CAACT,aAAa,CAACU,UAAU;IAE1C,0BAAqB,GAAG,IAAI,CAACP,MAAM,CAACQ,MAAM,CAACL,IAAI,CAC7ChB,MAAM,CAACsB,KAAK,IAAIA,KAAK,YAAYnB,aAAa,CAAC,EAC/CD,SAAS,CAAC,IAAI,CAAC,EACfD,GAAG,CAAC,MAAMG,qBAAqB,CAAC,IAAI,CAACS,MAAM,CAACU,WAAW,CAACC,IAAI,CAACC,QAAQ,EAAEC,IAAI,IAAIA,IAAI,CAACC,oBAAoB,CAAC,CAAC,CAC3G;EAOqC;EAEtCC,QAAQ;IACN,IAAI,CAAClB,aAAa,CAACmB,gBAAgB,CAACb,IAAI,CACtCV,cAAc,CAAC,IAAI,CAAC,CACrB,CAACwB,SAAS,CAACC,IAAI,IAAIA,IAAI,GAAG,IAAI,CAACC,WAAW,CAACD,IAAI,EAAE,GAAG,IAAI,CAACC,WAAW,CAACC,KAAK,EAAE,CAAC;EAChF;;mBAvBWzB,MAAqB;AAAA;QAArBA,MAAqB;EAAA0B;EAAAC;IAAA;;;;;;;;;;;;;MCjBlC5B,uHAEc;MAEdA,uHAIc;MAEdA,uHAEc;MAEdA,uHAEc;MAEdA,gCAGmD;MAKnDA,yCAAsE;MACpEA,oCAAqC;MACvCA,iBAAc;;;;;;;MAVFA,eAAuB;MAAvBA,+BAAuB;MAQTA,eAA0B;MAA1BA,wCAA0B;;;;;;ADTvCC,qBAAqB,eANjCH,YAAY,EAAE,GAMFG,qBAAqB,CAwBjC;SAxBYA,qBAAqB","names":["filter","map","startWith","NavigationEnd","checkRouterChildsData","UntilDestroy","untilDestroyed","i0","CustomLayoutComponent","constructor","layoutService","configService","breakpointObserver","router","sidenavCollapsed$","config$","pipe","config","footer","visible","isDesktop$","events","event","routerState","root","snapshot","data","toolbarShadowEnabled","ngOnInit","configpanelOpen$","subscribe","open","configpanel","close","selectors","viewQuery"],"sourceRoot":"","sources":["D:\\Projects\\boukii\\boukii-admin-panel\\src\\app\\custom-layout\\custom-layout.component.ts","D:\\Projects\\boukii\\boukii-admin-panel\\src\\app\\custom-layout\\custom-layout.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { LayoutService } from '../../@vex/services/layout.service';\nimport { filter, map, startWith } from 'rxjs/operators';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { checkRouterChildsData } from '../../@vex/utils/check-router-childs-data';\nimport { BreakpointObserver } from '@angular/cdk/layout';\nimport { ConfigService } from '../../@vex/config/config.service';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { SidebarComponent } from '../../@vex/components/sidebar/sidebar.component';\n\n\n@UntilDestroy()\n@Component({\n  selector: 'vex-custom-layout',\n  templateUrl: './custom-layout.component.html',\n  styleUrls: ['./custom-layout.component.scss']\n})\nexport class CustomLayoutComponent implements OnInit {\n\n  sidenavCollapsed$ = this.layoutService.sidenavCollapsed$;\n  isFooterVisible$ = this.configService.config$.pipe(map(config => config.footer.visible));\n  isDesktop$ = this.layoutService.isDesktop$;\n\n  toolbarShadowEnabled$ = this.router.events.pipe(\n    filter(event => event instanceof NavigationEnd),\n    startWith(null),\n    map(() => checkRouterChildsData(this.router.routerState.root.snapshot, data => data.toolbarShadowEnabled))\n  );\n\n  @ViewChild('configpanel', { static: true }) configpanel: SidebarComponent;\n\n  constructor(private layoutService: LayoutService,\n              private configService: ConfigService,\n              private breakpointObserver: BreakpointObserver,\n              private router: Router) { }\n\n  ngOnInit() {\n    this.layoutService.configpanelOpen$.pipe(\n      untilDestroyed(this)\n    ).subscribe(open => open ? this.configpanel.open() : this.configpanel.close());\n  }\n}\n","<ng-template #sidenavRef>\n  <vex-sidenav [collapsed]=\"sidenavCollapsed$ | async\"></vex-sidenav>\n</ng-template>\n\n<ng-template #toolbarRef>\n  <vex-toolbar [hasShadow]=\"toolbarShadowEnabled$ | async\"\n               [mobileQuery]=\"!(isDesktop$ | async)\"\n               class=\"vex-toolbar\"></vex-toolbar>\n</ng-template>\n\n<ng-template #footerRef>\n  <vex-footer *ngIf=\"isFooterVisible$ | async\" class=\"vex-footer\"></vex-footer>\n</ng-template>\n\n<ng-template #quickpanelRef>\n  <vex-quickpanel></vex-quickpanel>\n</ng-template>\n\n<vex-layout [footerRef]=\"footerRef\"\n            [quickpanelRef]=\"quickpanelRef\"\n            [sidenavRef]=\"sidenavRef\"\n            [toolbarRef]=\"toolbarRef\"></vex-layout>\n\n<!--<vex-config-panel-toggle (openConfig)=\"configpanel.open()\"></vex-config-panel-toggle>-->\n\n<!-- CONFIGPANEL -->\n<vex-sidebar #configpanel [invisibleBackdrop]=\"true\" position=\"right\">\n  <vex-config-panel></vex-config-panel>\n</vex-sidebar>\n<!-- END CONFIGPANEL -->\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}