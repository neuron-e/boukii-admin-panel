<div class="ski-sidebar" [class.collapsed]="isCollapsed">
  <!-- Header -->
  <div class="sidebar-header">
    <div class="logo-section">
      <div class="logo-container" *ngIf="!isCollapsed">
        <img src="assets/img/logo-login-head.png" alt="Boukii" class="logo-image">
      </div>
      <div class="logo-container collapsed" *ngIf="isCollapsed">
        <img src="assets/img/logo-login-head.png" alt="Boukii" class="logo-image-sm">
      </div>
    </div>
    <button class="collapse-btn" (click)="toggleCollapse()">
      <mat-icon>{{ isCollapsed ? 'chevron_right' : 'chevron_left' }}</mat-icon>
    </button>
  </div>

  <!-- Navigation -->
  <nav class="sidebar-nav">
    <div class="nav-items">
      <a 
        class="nav-item" 
        [class.active]="isActive(item.route)"
        [class.disabled]="!item.enabled"
        *ngFor="let item of menuItems" 
        [routerLink]="item.enabled ? item.route : null"
        (click)="onNavigate(item)"
        [title]="isCollapsed ? item.label : ''"
      >
        <div class="nav-content">
          <mat-icon class="nav-icon">{{ item.icon }}</mat-icon>
          <span class="nav-label" *ngIf="!isCollapsed">{{ item.label }}</span>
          
          <!-- Notification Badge -->
          <div class="nav-badge-container" *ngIf="item.notification && item.notification.count > 0">
            <app-notification-badge
              [count]="item.notification.count"
              [type]="item.notification.type"
              [size]="isCollapsed ? 'sm' : 'md'"
              [tooltip]="getNotificationTooltip(item.key, item.notification)"
              [className]="isCollapsed ? 'badge-collapsed' : 'badge-expanded'"
            ></app-notification-badge>
          </div>
        </div>
      </a>
    </div>
  </nav>

  <!-- Footer / Support Section -->
  <div class="sidebar-footer" *ngIf="!isCollapsed">
    <div class="support-card">
      <div class="support-content">
        <p class="support-title">¿Necesitas ayuda?</p>
        <p class="support-subtitle">Contacta nuestro soporte técnico</p>
        <button class="support-btn" (click)="openSupport()">
          <mat-icon>support_agent</mat-icon>
          <span>Soporte</span>
        </button>
      </div>
    </div>
  </div>
</div>