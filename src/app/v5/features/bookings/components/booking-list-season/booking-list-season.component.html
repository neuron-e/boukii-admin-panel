<div class="booking-list-container">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">
        {{ 'bookings.title' | translate }}
        <span class="season-indicator" *ngIf="currentSeason$ | async as currentSeason">
          - {{ currentSeason.name }}
        </span>
      </h1>

      <div class="header-stats" *ngIf="bookingStats">
        <div class="stat-item">
          <span class="stat-value">{{ bookingStats.total_bookings | number }}</span>
          <span class="stat-label">{{ 'bookings.total_bookings' | translate }}</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">{{ bookingStats.confirmed_bookings | number }}</span>
          <span class="stat-label">{{ 'bookings.confirmed' | translate }}</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">{{ bookingStats.pending_bookings | number }}</span>
          <span class="stat-label">{{ 'bookings.pending' | translate }}</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">{{ bookingStats.total_revenue | currency:'EUR':'symbol':'1.0-0' }}</span>
          <span class="stat-label">{{ 'bookings.total_revenue' | translate }}</span>
        </div>
      </div>
    </div>

    <div class="header-actions">
      <boukii-button
        variant="outlined"
        size="medium"
        iconLeading="refresh"
        (buttonClick)="refreshBookings()"
        [loading]="isLoading"
        [ariaLabel]="'bookings.refresh_list' | translate">
        {{ 'common.refresh' | translate }}
      </boukii-button>

      <boukii-button
        variant="outlined"
        size="medium"
        iconLeading="download"
        (buttonClick)="exportBookings()"
        [ariaLabel]="'bookings.export_list' | translate">
        {{ 'common.export' | translate }}
      </boukii-button>

      <boukii-button
        color="primary"
        size="medium"
        iconLeading="add"
        routerLink="/v5/bookings/new"
        [ariaLabel]="'bookings.create_new_booking' | translate">
        {{ 'bookings.new_booking' | translate }}
      </boukii-button>
    </div>
  </div>

  <!-- Filters Section -->
  <boukii-card variant="outlined" class="filters-card">
    <div slot="header-actions">
      <boukii-button
        variant="text"
        size="small"
        iconLeading="clear"
        (buttonClick)="clearFilters()"
        [disabled]="!hasActiveFilters()"
        [ariaLabel]="'bookings.clear_filters' | translate">
        {{ 'common.clear_filters' | translate }}
      </boukii-button>

      <boukii-button
        variant="text"
        size="small"
        [iconLeading]="showAdvancedFilters ? 'expand_less' : 'expand_more'"
        (buttonClick)="toggleAdvancedFilters()"
        [ariaLabel]="showAdvancedFilters ? ('bookings.hide_advanced_filters' | translate) : ('bookings.show_advanced_filters' | translate)">
        {{ showAdvancedFilters ? ('common.hide_advanced' | translate) : ('common.show_advanced' | translate) }}
      </boukii-button>
    </div>

    <form [formGroup]="filtersForm" class="filters-form">
      <!-- Basic Filters Row -->
      <div class="filters-row">
        <mat-form-field appearance="outline" class="filter-field">
          <mat-label>{{ 'bookings.search_placeholder' | translate }}</mat-label>
          <input matInput
                 formControlName="search"
                 [placeholder]="'bookings.search_by_client_booking' | translate"
                 autocomplete="off">
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline" class="filter-field">
          <mat-label>{{ 'bookings.status' | translate }}</mat-label>
          <mat-select formControlName="status" multiple>
            <mat-option value="">{{ 'common.all_statuses' | translate }}</mat-option>
            <mat-option value="pending">{{ 'bookings.status.pending' | translate }}</mat-option>
            <mat-option value="confirmed">{{ 'bookings.status.confirmed' | translate }}</mat-option>
            <mat-option value="cancelled">{{ 'bookings.status.cancelled' | translate }}</mat-option>
            <mat-option value="completed">{{ 'bookings.status.completed' | translate }}</mat-option>
            <mat-option value="no_show">{{ 'bookings.status.no_show' | translate }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="filter-field">
          <mat-label>{{ 'bookings.course_group' | translate }}</mat-label>
          <mat-select formControlName="course_group_id">
            <mat-option value="">{{ 'common.all_course_groups' | translate }}</mat-option>
            <mat-option *ngFor="let group of courseGroups" [value]="group.id">
              {{ group.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="filter-field">
          <mat-label>{{ 'bookings.date_range' | translate }}</mat-label>
          <mat-select formControlName="date_range">
            <mat-option value="today">{{ 'common.today' | translate }}</mat-option>
            <mat-option value="tomorrow">{{ 'common.tomorrow' | translate }}</mat-option>
            <mat-option value="this_week">{{ 'common.this_week' | translate }}</mat-option>
            <mat-option value="next_week">{{ 'common.next_week' | translate }}</mat-option>
            <mat-option value="this_month">{{ 'common.this_month' | translate }}</mat-option>
            <mat-option value="custom">{{ 'common.custom_range' | translate }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- Custom Date Range (shown when custom is selected) -->
      <div class="filters-row" *ngIf="filtersForm.get('date_range')?.value === 'custom'">
        <mat-form-field appearance="outline" class="filter-field">
          <mat-label>{{ 'common.from_date' | translate }}</mat-label>
          <input matInput [matDatepicker]="fromDatePicker" formControlName="date_from">
          <mat-datepicker-toggle matSuffix [for]="fromDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #fromDatePicker></mat-datepicker>
        </mat-form-field>

        <mat-form-field appearance="outline" class="filter-field">
          <mat-label>{{ 'common.to_date' | translate }}</mat-label>
          <input matInput [matDatepicker]="toDatePicker" formControlName="date_to">
          <mat-datepicker-toggle matSuffix [for]="toDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #toDatePicker></mat-datepicker>
        </mat-form-field>
      </div>

      <!-- Advanced Filters -->
      <div class="advanced-filters" *ngIf="showAdvancedFilters" [@expandCollapse]>
        <div class="filters-row">
          <mat-form-field appearance="outline" class="filter-field">
            <mat-label>{{ 'bookings.client' | translate }}</mat-label>
            <input matInput
                   formControlName="client_search"
                   [matAutocomplete]="clientAutocomplete"
                   [placeholder]="'bookings.search_client' | translate">
            <mat-autocomplete #clientAutocomplete="matAutocomplete" [displayWith]="displayClientFn">
              <mat-option *ngFor="let client of filteredClients$ | async" [value]="client">
                <div class="client-option">
                  <span class="client-name">{{ client.full_name }}</span>
                  <span class="client-email">{{ client.email }}</span>
                </div>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>

          <mat-form-field appearance="outline" class="filter-field">
            <mat-label>{{ 'bookings.monitor' | translate }}</mat-label>
            <mat-select formControlName="monitor_id">
              <mat-option value="">{{ 'common.all_monitors' | translate }}</mat-option>
              <mat-option *ngFor="let monitor of monitors" [value]="monitor.id">
                {{ monitor.full_name }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" class="filter-field">
            <mat-label>{{ 'bookings.location' | translate }}</mat-label>
            <mat-select formControlName="location_id">
              <mat-option value="">{{ 'common.all_locations' | translate }}</mat-option>
              <mat-option *ngFor="let location of locations" [value]="location.id">
                {{ location.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" class="filter-field">
            <mat-label>{{ 'bookings.payment_status' | translate }}</mat-label>
            <mat-select formControlName="payment_status">
              <mat-option value="">{{ 'common.all_payment_statuses' | translate }}</mat-option>
              <mat-option value="pending">{{ 'bookings.payment.pending' | translate }}</mat-option>
              <mat-option value="paid">{{ 'bookings.payment.paid' | translate }}</mat-option>
              <mat-option value="partially_paid">{{ 'bookings.payment.partially_paid' | translate }}</mat-option>
              <mat-option value="refunded">{{ 'bookings.payment.refunded' | translate }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="filters-row">
          <mat-form-field appearance="outline" class="filter-field">
            <mat-label>{{ 'bookings.min_amount' | translate }}</mat-label>
            <input matInput
                   type="number"
                   formControlName="min_amount"
                   [placeholder]="'0.00'">
            <span matTextSuffix>â‚¬</span>
          </mat-form-field>

          <mat-form-field appearance="outline" class="filter-field">
            <mat-label>{{ 'bookings.max_amount' | translate }}</mat-label>
            <input matInput
                   type="number"
                   formControlName="max_amount"
                   [placeholder]="'999.99'">
            <span matTextSuffix>â‚¬</span>
          </mat-form-field>

          <mat-form-field appearance="outline" class="filter-field">
            <mat-label>{{ 'bookings.participants_range' | translate }}</mat-label>
            <mat-select formControlName="participants_range">
              <mat-option value="">{{ 'common.any_size' | translate }}</mat-option>
              <mat-option value="1">1 {{ 'bookings.participant' | translate }}</mat-option>
              <mat-option value="2-5">2-5 {{ 'bookings.participants' | translate }}</mat-option>
              <mat-option value="6-10">6-10 {{ 'bookings.participants' | translate }}</mat-option>
              <mat-option value="11+">11+ {{ 'bookings.participants' | translate }}</mat-option>
            </mat-select>
          </mat-form-field>

          <div class="filter-checkboxes">
            <mat-checkbox formControlName="has_special_requirements">
              {{ 'bookings.has_special_requirements' | translate }}
            </mat-checkbox>

            <mat-checkbox formControlName="recurring_only">
              {{ 'bookings.recurring_only' | translate }}
            </mat-checkbox>

            <mat-checkbox formControlName="group_bookings_only">
              {{ 'bookings.group_bookings_only' | translate }}
            </mat-checkbox>
          </div>
        </div>
      </div>
    </form>
  </boukii-card>

  <!-- Active Filters Chips -->
  <div class="active-filters" *ngIf="activeFilters.length > 0">
    <span class="active-filters-label">{{ 'common.active_filters' | translate }}:</span>
    <mat-chip-listbox class="filters-chip-list">
      <mat-chip-option *ngFor="let filter of activeFilters"
                       [removable]="true"
                       (removed)="removeFilter(filter.key)"
                       class="filter-chip">
        <span class="filter-name">{{ filter.label | translate }}:</span>
        <span class="filter-value">{{ filter.value }}</span>
        <mat-icon matChipRemove>cancel</mat-icon>
      </mat-chip-option>
    </mat-chip-listbox>
  </div>

  <!-- Bookings List -->
  <boukii-card variant="outlined" class="bookings-list-card">
    <div slot="header-actions">
      <div class="list-controls">
        <!-- View Toggle -->
        <mat-button-toggle-group #viewMode="matButtonToggleGroup"
                                 value="list"
                                 (change)="onViewModeChange(viewMode.value)"
                                 [attr.aria-label]="'bookings.view_mode' | translate">
          <mat-button-toggle value="list" [attr.aria-label]="'bookings.list_view' | translate">
            <mat-icon>view_list</mat-icon>
          </mat-button-toggle>
          <mat-button-toggle value="grid" [attr.aria-label]="'bookings.grid_view' | translate">
            <mat-icon>view_module</mat-icon>
          </mat-button-toggle>
          <mat-button-toggle value="calendar" [attr.aria-label]="'bookings.calendar_view' | translate">
            <mat-icon>calendar_month</mat-icon>
          </mat-button-toggle>
        </mat-button-toggle-group>

        <!-- Sort Options -->
        <mat-form-field appearance="outline" class="sort-field">
          <mat-label>{{ 'common.sort_by' | translate }}</mat-label>
          <mat-select [(value)]="sortBy" (selectionChange)="onSortChange()">
            <mat-option value="course_date">{{ 'bookings.sort.course_date' | translate }}</mat-option>
            <mat-option value="created_at">{{ 'bookings.sort.created_date' | translate }}</mat-option>
            <mat-option value="client_name">{{ 'bookings.sort.client_name' | translate }}</mat-option>
            <mat-option value="total_amount">{{ 'bookings.sort.amount' | translate }}</mat-option>
            <mat-option value="status">{{ 'bookings.sort.status' | translate }}</mat-option>
          </mat-select>
        </mat-form-field>

        <!-- Sort Direction -->
        <boukii-button
          variant="outlined"
          size="small"
          [iconOnly]="true"
          [iconLeading]="sortDirection === 'asc' ? 'arrow_upward' : 'arrow_downward'"
          (buttonClick)="toggleSortDirection()"
          [ariaLabel]="sortDirection === 'asc' ? ('common.sort_ascending' | translate) : ('common.sort_descending' | translate)">
        </boukii-button>
      </div>
    </div>

    <!-- Loading State -->
    <div class="loading-container" *ngIf="isLoading">
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      <div class="loading-content">
        <mat-spinner diameter="40"></mat-spinner>
        <span>{{ 'bookings.loading_bookings' | translate }}</span>
      </div>
    </div>

    <!-- List View -->
    <div class="bookings-list" *ngIf="currentView === 'list' && !isLoading" [class.loading]="isLoading">

      <!-- Bulk Actions (when items are selected) -->
      <div class="bulk-actions" *ngIf="selectedBookings.size > 0" [@slideInOut]>
        <div class="bulk-actions-content">
          <span class="selection-count">
            {{ selectedBookings.size }} {{ selectedBookings.size === 1 ? ('bookings.booking_selected' | translate) : ('bookings.bookings_selected' | translate) }}
          </span>

          <div class="bulk-buttons">
            <boukii-button
              variant="outlined"
              size="small"
              iconLeading="email"
              (buttonClick)="bulkSendEmails()"
              [ariaLabel]="'bookings.send_bulk_emails' | translate">
              {{ 'bookings.send_emails' | translate }}
            </boukii-button>

            <boukii-button
              variant="outlined"
              size="small"
              iconLeading="download"
              (buttonClick)="bulkExport()"
              [ariaLabel]="'bookings.export_selected' | translate">
              {{ 'common.export' | translate }}
            </boukii-button>

            <boukii-button
              variant="outlined"
              size="small"
              color="warning"
              iconLeading="event_busy"
              (buttonClick)="bulkCancel()"
              [ariaLabel]="'bookings.cancel_selected' | translate">
              {{ 'common.cancel' | translate }}
            </boukii-button>

            <boukii-button
              variant="text"
              size="small"
              iconLeading="clear"
              (buttonClick)="clearSelection()"
              [ariaLabel]="'common.clear_selection' | translate">
              {{ 'common.clear_selection' | translate }}
            </boukii-button>
          </div>
        </div>
      </div>

      <!-- Bookings Table -->
      <div class="table-container">
        <table class="bookings-table" *ngIf="bookings.length > 0">
          <thead>
            <tr>
              <th class="select-column">
                <mat-checkbox
                  [checked]="isAllSelected()"
                  [indeterminate]="isPartiallySelected()"
                  (change)="toggleAllSelection()"
                  >
                </mat-checkbox>
              </th>
              <th class="booking-column">{{ 'bookings.booking_details' | translate }}</th>
              <th class="client-column">{{ 'bookings.client' | translate }}</th>
              <th class="course-column">{{ 'bookings.course_details' | translate }}</th>
              <th class="amount-column">{{ 'bookings.amount' | translate }}</th>
              <th class="status-column">{{ 'bookings.status' | translate }}</th>
              <th class="actions-column">{{ 'common.actions' | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let booking of bookings; trackBy: trackByBookingId"
                class="booking-row"
                [class.selected]="selectedBookings.has(booking.id)"
                [class]="'status-' + booking.status"
                (click)="onBookingRowClick(booking)">

              <!-- Selection Checkbox -->
              <td class="select-cell">
                <mat-checkbox
                  [checked]="selectedBookings.has(booking.id)"
                  (change)="toggleBookingSelection(booking.id)"
                  (click)="$event.stopPropagation()">
                </mat-checkbox>
              </td>

              <!-- Booking Details -->
              <td class="booking-cell">
                <div class="booking-info">
                  <div class="booking-id">
                    <strong>#{{ booking.booking_number }}</strong>
                    <span class="booking-type" [class]="'type-' + booking.booking_type">
                      {{ ('bookings.type.' + booking.booking_type) | translate }}
                    </span>
                  </div>
                  <div class="booking-dates">
                    <mat-icon class="date-icon">event</mat-icon>
                    <span class="course-date">{{ booking.course_date | date:'dd/MM/yyyy' }}</span>
                    <span class="course-time">{{ booking.start_time }} - {{ booking.end_time }}</span>
                  </div>
                  <div class="booking-created" *ngIf="booking.created_at">
                    <span class="created-label">{{ 'bookings.created' | translate }}:</span>
                    <span class="created-date">{{ booking.created_at | date:'dd/MM/yyyy HH:mm' }}</span>
                  </div>
                </div>
              </td>

              <!-- Client Details -->
              <td class="client-cell">
                <div class="client-info">
                  <div class="client-avatar" *ngIf="booking.client.profile_picture; else clientInitials">
                    <img [src]="booking.client.profile_picture" [alt]="booking.client.full_name">
                  </div>
                  <ng-template #clientInitials>
                    <div class="client-initials">
                      {{ getClientInitials(booking.client.full_name) }}
                    </div>
                  </ng-template>

                  <div class="client-details">
                    <div class="client-name">{{ booking.client.full_name }}</div>
                    <div class="client-contact">
                      <mat-icon class="contact-icon">email</mat-icon>
                      <span>{{ booking.client.email }}</span>
                    </div>
                    <div class="client-contact" *ngIf="booking.client.phone">
                      <mat-icon class="contact-icon">phone</mat-icon>
                      <span>{{ booking.client.phone }}</span>
                    </div>
                  </div>
                </div>
              </td>

              <!-- Course Details -->
              <td class="course-cell">
                <div class="course-info">
                  <div class="course-name">{{ booking.course_group?.name }}</div>
                  <div class="course-location" *ngIf="booking.location">
                    <mat-icon class="location-icon">place</mat-icon>
                    <span>{{ booking.location.name }}</span>
                  </div>
                  <div class="course-participants">
                    <mat-icon class="participants-icon">people</mat-icon>
                    <span>{{ booking.total_participants }} {{ booking.total_participants === 1 ? ('bookings.participant' | translate) : ('bookings.participants' | translate) }}</span>
                  </div>
                  <div class="course-monitor" *ngIf="booking.assigned_monitor">
                    <mat-icon class="monitor-icon">supervisor_account</mat-icon>
                    <span>{{ booking.assigned_monitor.full_name }}</span>
                  </div>
                </div>
              </td>

              <!-- Amount -->
              <td class="amount-cell">
                <div class="amount-info">
                  <div class="total-amount">{{ booking.pricing.total_amount | currency:'EUR':'symbol':'1.2-2' }}</div>
                  <div class="amount-breakdown" *ngIf="booking.pricing.discount_amount > 0">
                    <span class="original-amount">{{ booking.pricing.subtotal_amount | currency:'EUR':'symbol':'1.2-2' }}</span>
                    <span class="discount">-{{ booking.pricing.discount_amount | currency:'EUR':'symbol':'1.2-2' }}</span>
                  </div>
                  <div class="payment-status" [class]="'payment-' + booking.payment_status">
                    {{ ('bookings.payment.' + booking.payment_status) | translate }}
                  </div>
                </div>
              </td>

              <!-- Status -->
              <td class="status-cell">
                <div class="status-badge" [class]="'status-' + booking.status">
                  <mat-icon class="status-icon">{{ getStatusIcon(booking.status) }}</mat-icon>
                  <span class="status-text">{{ ('bookings.status.' + booking.status) | translate }}</span>
                </div>

                <!-- Special Requirements Indicator -->
                <div class="special-indicators" *ngIf="booking.special_requirements || booking.accessibility_requirements">
                  <mat-icon
                    class="special-icon"
                    [matTooltip]="getSpecialRequirementsTooltip(booking)"
                    matTooltipPosition="above">
                    accessibility
                  </mat-icon>
                </div>
              </td>

              <!-- Actions -->
              <td class="actions-cell">
                <div class="action-buttons">
                  <boukii-button
                    variant="ghost"
                    size="small"
                    [iconOnly]="true"
                    iconLeading="visibility"
                    [routerLink]="['/v5/bookings', booking.id]"
                    [ariaLabel]="'bookings.view_details' | translate">
                  </boukii-button>

                  <boukii-button
                    variant="ghost"
                    size="small"
                    [iconOnly]="true"
                    iconLeading="edit"
                    [routerLink]="['/v5/bookings', booking.id, 'edit']"
                    [disabled]="!canEditBooking(booking)"
                    [ariaLabel]="'bookings.edit_booking' | translate">
                  </boukii-button>

                  <button mat-icon-button
                          [matMenuTriggerFor]="bookingMenu"
                          class="more-actions-btn">
                    <mat-icon>more_vert</mat-icon>
                  </button>

                  <!-- Booking Actions Menu -->
                  <mat-menu #bookingMenu="matMenu">
                    <button mat-menu-item
                            (click)="confirmBooking(booking)"
                            [disabled]="booking.status !== 'pending_payment'">
                      <mat-icon>check_circle</mat-icon>
                      {{ 'bookings.confirm' | translate }}
                    </button>

                    <button mat-menu-item
                            (click)="cancelBooking(booking)"
                            [disabled]="!canCancelBooking(booking)">
                      <mat-icon>cancel</mat-icon>
                      {{ 'bookings.cancel' | translate }}
                    </button>

                    <button mat-menu-item (click)="duplicateBooking(booking)">
                      <mat-icon>content_copy</mat-icon>
                      {{ 'bookings.duplicate' | translate }}
                    </button>

                    <button mat-menu-item (click)="sendBookingEmail(booking)">
                      <mat-icon>email</mat-icon>
                      {{ 'bookings.send_confirmation' | translate }}
                    </button>

                    <button mat-menu-item (click)="printBooking(booking)">
                      <mat-icon>print</mat-icon>
                      {{ 'bookings.print' | translate }}
                    </button>

                    <mat-divider></mat-divider>

                    <button mat-menu-item
                            (click)="deleteBooking(booking)"
                            class="delete-action"
                            [disabled]="!canDeleteBooking(booking)">
                      <mat-icon>delete</mat-icon>
                      {{ 'bookings.delete' | translate }}
                    </button>
                  </mat-menu>
                </div>
              </td>
            </tr>
          </tbody>
        </table>

        <!-- Empty State -->
        <div class="empty-state" *ngIf="bookings.length === 0 && !isLoading">
          <mat-icon class="empty-icon">event_busy</mat-icon>
          <h3 class="empty-title">{{ 'bookings.no_bookings_found' | translate }}</h3>
          <p class="empty-description">
            {{ hasActiveFilters() ? ('bookings.no_bookings_filters' | translate) : ('bookings.no_bookings_yet' | translate) }}
          </p>
          <boukii-button
            *ngIf="!hasActiveFilters()"
            color="primary"
            size="medium"
            iconLeading="add"
            routerLink="/v5/bookings/new">
            {{ 'bookings.create_first_booking' | translate }}
          </boukii-button>
          <boukii-button
            *ngIf="hasActiveFilters()"
            variant="outlined"
            size="medium"
            iconLeading="clear"
            (buttonClick)="clearFilters()">
            {{ 'common.clear_filters' | translate }}
          </boukii-button>
        </div>
      </div>

      <!-- Pagination -->
      <div class="pagination-container" *ngIf="bookings.length > 0">
        <div class="pagination-info">
          <span>
            {{ 'common.showing' | translate }}
            {{ (currentPage - 1) * pageSize + 1 }} - {{ Math.min(currentPage * pageSize, totalBookings) }}
            {{ 'common.of' | translate }} {{ totalBookings }} {{ 'bookings.bookings' | translate }}
          </span>
        </div>

        <mat-paginator
          [length]="totalBookings"
          [pageSize]="pageSize"
          [pageSizeOptions]="[10, 25, 50, 100]"
          [pageIndex]="currentPage - 1"
          (page)="onPageChange($event)"
          [showFirstLastButtons]="true"
         >
        </mat-paginator>
      </div>
    </div>

    <!-- Grid View -->
    <div class="bookings-grid" *ngIf="currentView === 'grid' && !isLoading">
      <div class="grid-container">
        <div *ngFor="let booking of bookings; trackBy: trackByBookingId"
             class="booking-card"
             [class]="'status-' + booking.status"
             (click)="onBookingRowClick(booking)">

          <!-- Card content for grid view would go here -->
          <div class="booking-card-content">
            <!-- Simplified booking card layout -->
          </div>
        </div>
      </div>
    </div>

    <!-- Calendar View -->
    <div class="bookings-calendar" *ngIf="currentView === 'calendar' && !isLoading">
      <!-- Calendar component would be integrated here -->
      <div class="calendar-placeholder">
        <mat-icon>calendar_month</mat-icon>
        <span>{{ 'bookings.calendar_view_coming_soon' | translate }}</span>
      </div>
    </div>
  </boukii-card>
</div>
