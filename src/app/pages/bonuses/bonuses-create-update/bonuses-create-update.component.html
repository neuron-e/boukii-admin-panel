<vex-secondary-toolbar current="Bonuses">
  <vex-breadcrumbs
    [crumbs]="['Bonuses', 'Nouvelle bonus']"
    class="flex-auto"
  ></vex-breadcrumbs>
  <button class="ml-2" color="primary" mat-icon-button type="button">
    <mat-icon svgIcon="mat:more_vert"></mat-icon>
  </button>
</vex-secondary-toolbar>
<div
  [@stagger]="true"
  class="p-gutter container"
  style="max-width: none"
>
  <div class="flex flex-col sm:flex-row gap-4">
    <div @fadeInUp class="card flex-auto">
      <div class="px-6 py-4 border-b flex items-center">
        <h2 class="title m-0">Nouvelle bonus</h2>
      </div>
      <div class="px-6 py-4 flex flex-col" [formGroup]="form">

        <mat-form-field class="flex-auto">
          <mat-label>Client</mat-label>
          <input
            type="text"
            placeholder="Pick one"
            aria-label="Number"
            matInput
            [formControl]="clientsForm"
            [matAutocomplete]="auto"
          />
          <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
            <mat-option
              *ngFor="let client of filteredOptions | async"
              [value]="client"
            >
              {{client.full_name}}
            </mat-option>
          </mat-autocomplete>
          <mat-icon matPrefix svgIcon="mat:person"></mat-icon>
        </mat-form-field>

        <mat-form-field class="flex-auto" *ngIf="mode === 'create'">
          <mat-label>MONTANT</mat-label>
          <input formControlName="quantity" matInput required>
        </mat-form-field>

        <div class="flex flex-col sm:flex-row" *ngIf="mode === 'update'">

          <mat-form-field class="flex-auto">
            <mat-label>MONTANT</mat-label>
            <input formControlName="quantity" matInput required>
          </mat-form-field>

          <mat-form-field class="flex-auto">
            <mat-label>Solde restant?</mat-label>
            <input formControlName="budget" matInput [value]="defaults.budget" readonly="true">
          </mat-form-field>
        </div>

        <div class="flex-auto">
          <mat-label>Pay√©?</mat-label><br>
          <mat-slide-toggle formControlName="pay"></mat-slide-toggle>
        </div>
        <div class="flex items-center justify-end gap-2">
          <button mat-button type="button">Cancelar</button>
          <!-- Added (click) event here -->
          <button
            color="primary"
            mat-raised-button
            type="button"
            (click)="save()"
          >
            Guardar
          </button>
        </div>
      </div>

    </div>
  </div>
</div>
