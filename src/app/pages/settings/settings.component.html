<vex-page-layout mode="card">

  <!--<vex-page-layout-header class="flex flex-col items-start justify-center" style="background-color: rgba(var(--background-foreground-rgb), var(--tw-bg-opacity));">
    <div class="container" style="max-width: none;">
      <i class="fa fa-cog" style="float: left;font-size: 30px;margin: 0 10px 0 0;color: #f53d7c;"></i>
      <h2 class="title m-0" style="float: left;font-size: 30px;">{{'settings' | translate}} </h2>
    </div>
  </vex-page-layout-header>-->

  <vex-secondary-toolbar current="">
    <vex-breadcrumbs [crumbs]="[
    {icon:'reglages'},
    {text:'settings', title: true},
    ]" class="flex"></vex-breadcrumbs>
  </vex-secondary-toolbar>

  <mat-spinner *ngIf="loading" style="margin: 0 auto"></mat-spinner>
  <vex-page-layout-content class="container pt-6" style="max-width: none !important;" *ngIf="!loading">
    <div class="card">
      <mat-tab-group>
        <mat-tab label="{{'season' | translate}}" [formGroup]="seasonForm">

          <vex-page-layout>
            <vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
              <h1 style="color:#808080;font-size:24px">{{'settings.new_season' | translate}}</h1>
              <p style="padding: 1%; color:#808080">{{'settings.new_season.save' | translate}}</p>
              <div style="width: 100%; float: left;padding: 1%">
                <div style="padding: 1%;width: 100%;float: left;border: #e6e6e6 1px solid;">
                  <div style="float:left; width:30%">

                    <p style="font-weight: bold; color:#808080">{{'settings.new_season.general' | translate}}</p>
                  </div>
                  <div style="float:left; width:70%">
                    <button class="btn-primary-accent" style="float: right;" (click)="saveSeason()">{{'settings.new_season.save' | translate}}</button>
                  </div>

                </div>
                <div style="width: 100%; float: left; border:#e6e6e6 1px solid;padding: 1%;">
                  <div class="flex flex-col sm:flex-row gap-2 sm:gap-6" >

                    <div class="flex-auto">
                      <label for="dateFrom">{{'settings.new_season.start' | translate}}</label>
                      <mat-form-field appearance="outline" style="width: 100%">

                        <input matInput id="dateFrom" [matDatepicker]="pickerFrom" formControlName="fromDate" [min]="today" [(ngModel)]="selectedFrom" [value]="selectedFrom">
                        <mat-datepicker-toggle matSuffix [for]="pickerFrom"></mat-datepicker-toggle>
                        <mat-datepicker #pickerFrom [startAt]="selectedFrom"></mat-datepicker>
                      </mat-form-field>
                    </div>
                    <div class="flex-auto">
                      <label for="dateTo">{{'settings.new_season.end' | translate}}</label>

                      <mat-form-field appearance="outline" style="width: 100%">

                        <input matInput id="dateTo" [matDatepicker]="pickerTo" formControlName="toDate" [disabled]="selectedFrom === null" [min]="selectedFrom" [(ngModel)]="selectedTo" [value]="selectedTo">
                        <mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
                        <mat-datepicker #pickerTo [startAt]="selectedTo"></mat-datepicker>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="flex flex-col sm:flex-row gap-2 sm:gap-6" >

                    <div class="flex-auto">
                      <label for="hour">{{'settings.new_season.hour_start' | translate }}</label>
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <input id="hour" type="text" placeholder="Hora " matInput [matAutocomplete]="matHourFrom" formControlName="startHour">
                        <mat-autocomplete #matHourFrom="matAutocomplete">
                          <mat-option *ngFor="let hour of hours" [value]="hour" (onSelectionChange)="selectedFromHour = hour">
                            {{hour}}
                          </mat-option>
                        </mat-autocomplete>
                      </mat-form-field>
                    </div>

                    <div class="flex-auto">
                      <label for="endHour">{{'settings.new_season.hour_end' | translate }}</label>
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <input id="endHour" type="text" placeholder="Hora" matInput [matAutocomplete]="matHourTo" formControlName="endHour">
                        <mat-autocomplete #matHourTo="matAutocomplete">
                          <mat-option *ngFor="let hour of filteredHours" [value]="hour" (onSelectionChange)="selectedToHour = hour">
                            {{hour}}
                          </mat-option>
                        </mat-autocomplete>
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="sm:flex-row gap-2 sm:gap-6">
                    <div *ngFor="let holiday of holidays; let i = index" style="width: 49%; float:left;" [ngClass]="{'margin-right': isEven(i)}">
                      <div style="width: 5%;float: left;margin: 4% 0 0 0;">
                        <mat-icon svgIcon="mat:delete" style="color:red;cursor:pointer" (click)="deleteHoliday(i)"></mat-icon>

                      </div>
                      <div style="width: 95%; float:left;">
                        <label for="holiday-{{i}}">{{'settings.new_season.holiday' | translate }}</label>

                        <mat-form-field appearance="outline" style="width: 100%">
                          <input matInput [matDatepicker]="picker" [min]="today" id="holiday-{{i}}" (dateChange)="onDateSelect($event, i)" [value]="holiday">
                          <mat-datepicker-toggle matSuffix [for]="picker" ></mat-datepicker-toggle>
                          <mat-datepicker #picker [startAt]="today"></mat-datepicker>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                  <div style="width: 100%; margin: 2% 0 0 0; float:left;border: 1px solid #e6e6e6;padding: 1%;">
                    <div style="width: 5%; float:left;">

                      <button class="add-date" mat-fab (click)="addHoliday()">
                        <mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
                      </button>
                    </div>
                    <div style="width: 95%; float:left;margin: 1% 0 0 0;">
                      <p>{{'settings.new_season.holiday_add' | translate }}</p>
                    </div>
                  </div>
                </div>
              </div>

              <div style="width: 100%; float: left;padding: 1%">
                <div style="padding: 1%;width: 100%;float: left;border: #e6e6e6 1px solid;">
                  <div style="float:left; width:30%">

                    <p style="font-weight: bold; color:#808080">{{'settings.school.title' | translate}}</p>
                  </div>
                  <div style="float:left; width:70%">
                    <button class="btn-primary-accent" style="float: right;" (click)="saveContactData();">{{'settings.school.save' | translate}}</button>
                  </div>
                </div>
                <div style="width: 100%; float: left; border:#e6e6e6 1px solid;padding: 1%;">
                  <div class="flex flex-col sm:flex-row gap-2 sm:gap-6">
                    <mat-form-field appearance="outline" class="flex-auto">
                      <mat-label>{{'address' | translate}}</mat-label>

                      <input formControlName="contact_phone" matInput required type="text" [(ngModel)]="defaultsSchoolData.contact_address">
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="flex-auto">
                      <mat-label>Email</mat-label>
                      <input formControlName="contact_address" matInput required type="text" [(ngModel)]="defaultsSchoolData.contact_email">

                    </mat-form-field>
                  </div>
                  <div class="flex flex-col sm:flex-row gap-2 sm:gap-6">
                    <mat-form-field appearance="outline" class="flex-auto">
                      <mat-label>{{'cp' | translate}}</mat-label>

                      <input formControlName="contact_address_number" matInput required type="text" [(ngModel)]="defaultsSchoolData.contact_cp">
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="flex-auto">
                      <mat-label>{{'phone' | translate}}</mat-label>
                      <input formControlName="contact_cp" matInput required type="tel" [(ngModel)]="defaultsSchoolData.contact_phone">

                    </mat-form-field>
                  </div>
                  <div class="flex flex-col sm:flex-row gap-2 sm:gap-6">
                    <mat-form-field appearance="outline" class="vex-flex-form-field flex-auto">
                      <mat-label>{{'country' | translate }}</mat-label>
                      <input type="text" placeholder="Selecciona una opciÃ³n" matInput [formControl]="myControlCountries" [matAutocomplete]="autoCountry" formControlName="contact_country" >
                      <mat-autocomplete #autoCountry="matAutocomplete" [displayWith]="displayFnCountry">
                        <mat-option *ngFor="let country of filteredCountries | async" [value]="country" (onSelectionChange)="defaultsSchoolData.contact_country = country.id">
                          {{country.name}}
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="vex-flex-form-field flex-auto">
                      <mat-label>{{'province' | translate }}</mat-label>
                      <input type="text" placeholder="Selecciona una opciÃ³n" matInput [formControl]="myControlProvinces" [matAutocomplete]="autoProvince" formControlName="contact_province" >
                      <mat-autocomplete #autoProvince="matAutocomplete" [displayWith]="displayFnProvince">
                        <mat-option *ngFor="let province of filteredProvinces | async" [value]="province" (onSelectionChange)="defaultsSchoolData.contact_province = province.id">
                          {{province.name}}
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                  </div>
                  <div class="flex flex-col sm:flex-row gap-2 sm:gap-6">
                    <mat-form-field appearance="outline" class="flex-auto">
                      <mat-label>{{'city' | translate}}</mat-label>

                      <input formControlName="contact_city" matInput required type="text" [(ngModel)]="defaultsSchoolData.contact_city">
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </vex-page-layout-content>
          </vex-page-layout>
        </mat-tab>
        <mat-tab label="{{'sports' | translate}}">
          <mat-tab-group>
            <mat-tab label="{{'settings.sports.title' | translate}}">
              <vex-page-layout>
                <vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
                  <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'settings.sports.title' | translate}}</h1>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.sports.subtitle' | translate }}.<br>
                      {{'settings.sports.subtitle_info' | translate }}
                    </p>
                    <button class="btn-primary-accent" (click)="saveSchoolSports()">{{'save_changes' | translate}}</button>
                  </div>

                  <div style="width: 100%;">
                    <p style="font-size: 30px;font-weight: bold;color: #808080; margin-bottom: 20px;">{{'winter' | translate }}</p>
                    <div class="items-icons">
                      <ng-container *ngFor="let item of sports">
                        <div class="item" *ngIf="item.sport_type === 1" (click)="setSport(item.id)">
                          <div class="icon" [ngClass]="{'unselected-icon': sportsList.indexOf(item.id) === -1, 'selected-icon': sportsList.indexOf(item.id) !== -1}" *ngIf="item.sport_type === 1">
                            <img [src]="sportsList.indexOf(item.id) !== -1 ? item.icon_selected : item.icon_unselected"/>
                          </div>
                          <div class="text" *ngIf="item.sport_type === 1">{{ item.name }}</div>
                        </div>
                      </ng-container>
                    </div>
                  </div>

                  <div style="width: 100%;">
                    <p style="font-size: 30px;font-weight: bold;color: #808080; margin-top: 40px; margin-bottom: 20px;">{{'summer' | translate }}</p>
                    <div class="items-icons">
                      <ng-container *ngFor="let item of sports">
                        <div class="item" *ngIf="item.sport_type === 2" (click)="setSport(item.id)">
                          <div class="icon" *ngIf="item.sport_type === 2" [ngClass]="{'unselected-icon': sportsList.indexOf(item.id) === -1, 'selected-icon': sportsList.indexOf(item.id) !== -1}">
                            <img [src]="sportsList.indexOf(item.id) !== -1 ? item.icon_selected : item.icon_unselected"/>
                          </div>
                          <div class="text" *ngIf="item.sport_type === 2">{{ item.name }}</div>
                        </div>
                      </ng-container>
                    </div>
                  </div>

                  <div style="width: 100%;">
                    <p style="font-size: 30px;font-weight: bold;color: #808080; margin-top: 40px; margin-bottom: 20px;">{{'settings.sports.all_sessions' | translate}}</p>
                    <div class="items-icons">
                      <ng-container *ngFor="let item of sports">
                        <div class="item" *ngIf="item.sport_type === 3" (click)="setSport(item.id)">
                          <div class="icon" [ngClass]="{'unselected-icon': sportsList.indexOf(item.id) === -1, 'selected-icon': sportsList.indexOf(item.id) !== -1}">
                            <img [src]="sportsList.indexOf(item.id) !== -1 ? item.icon_selected : item.icon_unselected"/>
                          </div>
                          <div class="text">{{ item.name }}</div>
                        </div>
                      </ng-container>
                    </div>
                  </div>

                </vex-page-layout-content>
              </vex-page-layout>
            </mat-tab>
            <mat-tab label="{{'levels' | translate}}">
              <vex-page-layout>
                <vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
                  <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'levels' | translate}}</h1>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.sports.levels.text1' | translate}}<br>
                      {{'settings.sports.levels.text2' | translate}}
                    </p>
                    <button class="btn-primary-accent" (click)="updateSportDegrees()">{{'save_changes' | translate}}</button>
                  </div>

                  <div class="items-icons" style="margin-bottom: 20px;">
                    <ng-container *ngFor="let item of schoolSports; let i = index">
                      <div class="item" (click)="selectSport(item)" [ngClass]="selectedSport === item.id ? 'select' : 'unselect'">
                        <div class="icon">
                          <img [src]="item.icon_selected"/>
                          <img [src]="item.icon_unselected"/>
                        </div>
                        <div class="text">{{ item.name }}</div>
                      </div>
                    </ng-container>
                  </div>

                  <!--<div style="float: left; width: 100%;margin-bottom: 20px;margin-top: 10px;">
                    <ng-container *ngFor="let item of schoolSports; let i = index">
                      <div style="float: left; width: 80px; margin-right: 10px;text-align: center;">
                        <div style="cursor:pointer;width: 40px;height:40px;border-radius: 6px;" (click)="selectSport(item.id)" [ngStyle]="{'background': selectedSport === item.id ? '#e91e63' : '#e6e6e6'}">
                          <div (click)="dataSourceLevels.data = item.degrees">
                            <img style="width: 40px;height:40px;display:inline-block;" [src]="item.icon_selected"/>
                          </div>
                        </div>
                        <div style="font-size:12px;">
                          {{ item.name }}
                        </div>
                      </div>
                    </ng-container>
                  </div>-->

                  <div style="float: left; width: 100%;">
                    <!-- aÃ±adir mat table de niveles-->
                    <table #reductionTable id="table-level" mat-table [dataSource]="dataSourceLevels" matSort style="border: 1px solid #e6e6e6">

                      <ng-container matColumnDef="ageMin">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'age_from'|translate}}</th>
                        <td mat-cell *matCellDef="let element">
                          <mat-form-field appearance="outline" class="flex-auto">
                            <input matInput placeholder="{{'acronym'|translate}}" type="number" [value]="element.age_min" [(ngModel)]="element.age_min">
                          </mat-form-field>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="ageMax">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'age_to'|translate}}</th>
                        <td mat-cell *matCellDef="let element">
                          <mat-form-field appearance="outline" class="flex-auto">
                            <input matInput placeholder="{{'acronym'|translate}}" type="number" [value]="element.age_max" [(ngModel)]="element.age_max">
                          </mat-form-field>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="annotation">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'acronym'|translate}} </th>
                        <td mat-cell *matCellDef="let element">

                          <mat-form-field appearance="outline" class="flex-auto">
                            <input matInput placeholder="{{'acronym'|translate}}" type="text" [value]="element.annotation" [(ngModel)]="element.annotation">
                          </mat-form-field>

                        </td>
                      </ng-container>

                      <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'name'|translate}} </th>
                        <td mat-cell *matCellDef="let element">
                          <mat-form-field appearance="outline" class="flex-auto">
                            <input matInput placeholder="{{'name'|translate}}" type="text" [value]="element.name" [(ngModel)]="element.name">
                          </mat-form-field>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'status'|translate}} </th>
                        <td mat-cell *matCellDef="let element">
                          <mat-slide-toggle [checked]="element.active" [(ngModel)]="element.active"></mat-slide-toggle>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="color">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'color'|translate}} </th>
                        <td mat-cell *matCellDef="let element">
                          <div style="width: 50%;float: left;height: 35px;border-radius: 5px;" [style.background-color]="element.color">

                          </div>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="edit">
                        <th mat-header-cell *matHeaderCellDef>  </th>
                        <td mat-cell *matCellDef="let element; let idx = index">
                          <mat-icon svgIcon="mat:edit" (click)="editGoal(element, idx)"></mat-icon>
                        </td>
                      </ng-container>

                      <tr mat-header-row *matHeaderRowDef="displayedLevelsColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedLevelsColumns;"></tr>
                    </table>
                  </div>
                </vex-page-layout-content>
              </vex-page-layout>
            </mat-tab>
          </mat-tab-group>

        </mat-tab>
        <mat-tab label="{{'courses.title' | translate}}">
          <ng-template matStepLabel>{{'prices'|translate}}</ng-template>
          <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin:2%;">
            <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'settings.prices.table' | translate}}</h1>
            <p style="padding: 1%; color:#808080;float: left; width: 75%;">
              {{'settings.prices.text' | translate}}<br>
            </p>
            <button class="btn-primary-accent" (click)="savePrices()">{{'save_changes' | translate}}</button>
          </div>
          <div class="p-6">

            <mat-form-field appearance="outline" class="flex-auto">
              <input matInput placeholder="Enter people number" type="number" [value]="people" [(ngModel)]="people" (ngModelChange)="updateTable()">
            </mat-form-field>

            <div class="table-container" >
              <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" #scrollContainer>
                <caption>{{'price' |translate}} {{'in'|translate}} CFH</caption>

                <!-- Intervalo Column -->
                <ng-container matColumnDef="intervalo">
                  <th mat-header-cell *matHeaderCellDef>  {{'interval'|translate}} </th>
                  <td mat-cell *matCellDef="let row"> {{row.intervalo}} </td>
                </ng-container>

                <!-- Personas Columns -->
                <ng-container *ngFor="let col of displayedColumns.slice(1)" [matColumnDef]="col">
                  <th mat-header-cell *matHeaderCellDef> {{col}} </th>
                  <td mat-cell *matCellDef="let row">
                    <mat-form-field appearance="outline" class="flex-auto">
                      <input class="flex-auto" matInput [(ngModel)]="row[col]" style="margin-top:3%">
                    </mat-form-field>
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="{{'settings.book_page' | translate}}">
          <vex-page-layout>
            <vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
              <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'settings.book_page' | translate}}</h1>
                <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                  {{'settings.book_page.text1' | translate}}<br>
                  {{'settings.book_page.text2' | translate}}
                </p>
                <button class="btn-primary-accent" (click)="setTheme()">{{'save_changes' | translate}}</button>
              </div>

              <div style="float: left; width: 100%;margin: 0 0 2% 0;">
                <div style="width:100%; float:left;">

                  <div style="padding: 1%;width: 100%;float: left;border: #e6e6e6 1px solid;">
                    <div style="width: 100%; float: left; ">
                      <div class="flex flex-col sm:flex-row gap-2 sm:gap-6" >
                        <div class="flex-auto">
                          <mat-radio-group [(ngModel)]="theme">
                            <mat-radio-button class="radio" [value]="'light'">
                              {{'settings.book_page.light' | translate}}
                            </mat-radio-button>
                            <mat-radio-button class="radio" [value]="'dark'">
                              {{'settings.book_page.dark' | translate}}
                            </mat-radio-button>
                          </mat-radio-group>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </vex-page-layout-content>
          </vex-page-layout>
        </mat-tab>
        <mat-tab label="{{'settings.monitors' | translate}}">

          <mat-tab-group>

            <mat-tab label="{{'salarys' | translate}}">
              <vex-page-layout style="float: left;width: 100%;">
                <vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0;float: left;width: 100%;">
                  <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;width: 100%;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'salarys' | translate}}</h1>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.monitors.salaris.text1' | translate}}<br>
                      {{'settings.monitors.salaris.text2' | translate}}<br>
                    </p>

                  </div>

                  <vex-aio-table style="float: left;width: 100%;margin: 5% 0 0 0;" [columns]="columns" [withHeader]="false" [entity]="entitySalary" [title]="'Salaires'" [route]="'settings'" [createComponent]="createComponent" [canDelete]="false" [canDeactivate]="false" [createOnModal]="true" [heigthModal]="'35vh'"></vex-aio-table>
                </vex-page-layout-content>
              </vex-page-layout>
            </mat-tab>
            <mat-tab label="{{'paid_blocks' | translate}}">
              <vex-page-layout>
                <vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">

                  <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'blocks' | translate}}</h1>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.blocks.text1' | translate}}<br>
                      {{'settings.blocks.text2' | translate}}<br>
                    </p>
                    <button class="btn-primary-accent" (click)="saveBlockages()">{{'save_changes' | translate}}</button>
                  </div>

                  <div class="p-6">
                    <mat-form-field appearance="outline" class="flex-auto" *ngFor="let item of blockages" style="width: 30%; margin: 0 2% 0 0">
                      <span matPrefix class="square-prefix" [ngStyle]="{'background-color': item.color}"></span>
                      <input matInput placeholder="Enter text" [value]="item.name" [(ngModel)]="item.name">
                    </mat-form-field>
                  </div>

                  <!--
                  <div class="p-6">
                    <div style="width: 100%; margin: 2% 0 0 0; float:left;border: 1px solid #e6e6e6;padding: 1%;">
                      <div style="width: 5%; float:left;">
                        <button class="add-date" mat-fab (click)="addBlockage()">
                          <mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
                        </button>
                      </div>
                      <div style="width: 95%; float:left;margin: 1% 0 0 0;">
                        <p>AÃ±adir bloqueo</p>
                      </div>
                    </div>
                  </div>-->
                </vex-page-layout-content>
              </vex-page-layout>
            </mat-tab>
            <mat-tab label="{{'settings.auths' | translate}}">
              <vex-page-layout>
                <vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
                  <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'levels' | translate}}</h1>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.auths.text1' | translate}}
                    </p>
                    <button class="btn-primary-accent" (click)="saveMonitorsAuth()">{{'save_changes' | translate}}</button>
                  </div>
                  <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'settings.auths.messages_app' | translate}}</h1>
                    <div style="width:100%; float:left;">
                      <p style="width:100%; float:left;">{{'by_default' |translate}} </p>
                      <div>
                        <mat-checkbox [(ngModel)]="authorized" (change)="onAuthorizedChange(true)">{{'settings.auths.auth' | translate}}</mat-checkbox>
                        <mat-checkbox [(ngModel)]="!authorized" (change)="onAuthorizedChange(false)">{{'settings.auths.no_auth' | translate}}</mat-checkbox>
                      </div>
                    </div>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.auths.text2' | translate}}<br>
                      {{'settings.auths.text3' | translate}}<br><br>
                      {{'settings.auths.text4' | translate}}
                    </p>

                  </div>
                  <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'settings.auths.messages_app2' | translate}}</h1>
                    <div style="width:100%; float:left;">
                      <p style="width:100%; float:left;">{{'by_default' |translate}}</p>
                      <div>
                        <mat-checkbox [(ngModel)]="authorizedBookingComm" (change)="onAuthorizedBookingChange(true)">{{'settings.auths.auth' | translate}}</mat-checkbox>
                        <mat-checkbox [(ngModel)]="!authorizedBookingComm" (change)="onAuthorizedBookingChange(false)">{{'settings.auths.no_auth' | translate}}</mat-checkbox>
                      </div>
                    </div>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.auths.text2' | translate}}<br>
                      {{'settings.auths.text3' | translate}}<br><br>
                      {{'settings.auths.text4' | translate}}
                    </p>

                  </div>
                </vex-page-layout-content>
              </vex-page-layout>
            </mat-tab>
          </mat-tab-group>
        </mat-tab>
        <mat-tab label="{{'bookings'|translate}}">
          <vex-page-layout>
            <vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
              <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'bookings'|translate}}</h1>
                <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                  {{'settings.bookings.text'|translate}}
                </p>
                <button class="btn-primary-accent" (click)="saveTaxes()">{{'save_changes' | translate}}</button>
              </div>
              <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">
                  <mat-slide-toggle [(ngModel)]="hasCancellationInsurance"></mat-slide-toggle> {{'op_rem'|translate}}</h1>
                <div style="width:100%; float:left;">
                  <p style="width:100%; float:left;color:#808080;">{{'settings.bookings.op_rem_text'|translate}}</p>
                  <mat-form-field appearance="outline" class="flex-auto">
                    <input matInput placeholder="Percentaje" [disabled]="!hasCancellationInsurance" type="number" [value]="hasCancellationInsurance ? cancellationInsurancePercent * 100 : 0" (blur)="updateInsuranceValue($event)">

                  </mat-form-field>
                </div>
                <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                  {{'settings.bookings.op_rem_text2'|translate}}<br>
                  {{'settings.bookings.op_rem_text3'|translate}}<br>
                  {{'settings.bookings.op_rem_text4'|translate}}
                </p>

              </div>
              <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">
                  <mat-slide-toggle [(ngModel)]="hasBoukiiCare"></mat-slide-toggle> Boukii Care
                  <span style="color: #e6e6e6">({{'settings.bookings.boukii_care_title' | translate}})</span></h1>
                <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                  {{'settings.bookings.boukii_care_text1' |translate}}<br>
                  {{'settings.bookings.boukii_care_text2' |translate}}<br>
                  {{'settings.bookings.boukii_care_text3' |translate}}<br><br>
                  {{'settings.bookings.boukii_care_text4' |translate}}<a href="" style="text-decoration:none; color: #f53d7c;">Enlace</a>
                </p>
                <div style="width:100%; float:left;">
                  <p style="width:100%; float:left;color:#808080;">{{'settings.bookings.boukii_care_price' | translate}}</p>
                  <mat-form-field appearance="outline" class="flex-auto">
                    <input matInput placeholder="Percentaje" type="number" [value]="boukiiCarePrice" (blur)="updateBoukiiCareValue($event)">

                  </mat-form-field>
                </div>
              </div>
              <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'settings.bookings.cancelations' | translate}}</h1>
                <div style="width:100%; float:left;">
                  <p style="width:100%; float:left;color:#808080;" [innerHTML]="'settings.bookings.cancelations.text1' | translate"></p>
                  <mat-form-field appearance="outline" class="flex-auto">
                    <input matInput type="number" [value]="cancellationNoRem" (blur)="updateCancelationNoRem($event)">

                  </mat-form-field>
                </div>
                <div style="width:100%; float:left;">
                  <p style="width:100%; float:left;color:#808080;" [innerHTML]="'settings.bookings.cancelations.text3' | translate"></p>
                  <mat-form-field appearance="outline" class="flex-auto">
                    <input matInput type="number" [value]="cancellationRem" (blur)="updateCancelationRem($event)">
                  </mat-form-field>
                </div>
                <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                  {{'settings.bookings.cancelations.text5' | translate}}<br>
                  {{'settings.bookings.cancelations.text6' | translate}}<br>
                </p>
              </div>

              <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">
                  <mat-slide-toggle [(ngModel)]="hasTVA"></mat-slide-toggle>{{'tva' | translate}}</h1>
                <div style="width:100%; float:left;">
                  <p style="width:100%; float:left;color:#808080;">{{'settings.bookings.tva.text1' | translate}}</p>
                  <mat-form-field appearance="outline" class="flex-auto">
                    <input matInput placeholder="TVA" type="number" [value]="tva* 100" (blur)="updateTVAValue($event)">

                  </mat-form-field>
                </div>
                <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                  {{'settings.bookings.tva.text1' | translate}}
                </p>

              </div>
              <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">
                  {{'currency' | translate}}</h1>
                <div style="width:100%; float:left;">
                  <mat-form-field appearance="outline" class="flex-auto">
                    <mat-select placeholder="{{'currency' | translate}}" [(ngModel)]="currency">
                      <mat-option *ngFor="let item of currencies" [value]="item">
                        {{ item }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </vex-page-layout-content>
          </vex-page-layout>
        </mat-tab>

        <mat-tab label="{{'extras' | translate}}">
          <mat-tab-group>

            <mat-tab label="{{'rent' | translate}}" *ngIf="false">


              <vex-page-layout>
                <vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
                  <div style="float: left; width: 100%;padding: 1%;margin: 0 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'extras' | translate}} / {{'course_options' | translate}}</h1>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.bookings.extras.text1' | translate}}<br>
                      {{'settings.bookings.extras.text2' | translate}}<br>
                      {{'settings.bookings.extras.text3' | translate}}<strong>{{'settings.bookings.extras.text4' | translate}}
                    </strong>
                      {{'settings.bookings.extras.text5' | translate}}
                    </p>

                  </div>

                  <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'rent' | translate}}</h1>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.bookings.extras.text4' | translate}}<br>
                      {{'settings.bookings.extras.text5' | translate}}<br>
                    </p>

                  </div>

                  <div style="float: left; width: 100%;padding: 1%;margin: 0 0 2% 0;">
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.bookings.extras.text6' | translate}}
                    </p>
                    <div style="float: left;width: 100%;padding: 1%">
                      <p style="color:#808080;float: left; width: 100%;">
                        {{'sport' | translate}}
                      </p>
                      <mat-checkbox [checked]="true">Ski</mat-checkbox>
                      <mat-checkbox>Snowboard</mat-checkbox>
                      <mat-checkbox>RandonÃ©e</mat-checkbox>
                    </div>
                    <div style="float: left;width: 100%;padding: 1%">
                      <div style="float: left; width: 10%;">
                        <div style="float: left; width: 100%;">
                          <img style="float: left; width: 40%;background: #e6e6e6; border-radius: 10px;border: solid 1px #808080" src="https://school.boukii.com/assets/apps/sports/Ski.png"/>
                        </div>
                      </div>
                      <div style="float: left;width: 90%;">

                        <table #extrasSportTable id="table-extras-sports" mat-table [dataSource]="dataSourceSport" matSort style="border: 1px solid #e6e6e6">

                          <ng-container matColumnDef="id">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>
                            <td mat-cell *matCellDef="let element"> 1 </td>
                          </ng-container>

                          <ng-container matColumnDef="sport">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Deporte </th>
                            <td mat-cell *matCellDef="let element"> Ski </td>
                          </ng-container>

                          <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
                            <td mat-cell *matCellDef="let element"> Botas de esqui </td>
                          </ng-container>

                          <ng-container matColumnDef="price">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Prix - {{ currency || 'CHF' }} / Dia </th>
                            <td mat-cell *matCellDef="let element"> 30 {{ currency || 'CHF' }}/dia </td>
                          </ng-container>

                          <ng-container matColumnDef="tva">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> TVA </th>
                            <td mat-cell *matCellDef="let element">
                              0%
                            </td>
                          </ng-container>

                          <ng-container matColumnDef="status">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                            <td mat-cell *matCellDef="let element">
                              <mat-slide-toggle [checked]="true"></mat-slide-toggle>

                            </td>
                          </ng-container>

                          <ng-container matColumnDef="edit">
                            <th mat-header-cell *matHeaderCellDef>  </th>
                            <td mat-cell *matCellDef="let element; let idx = index">
                              <mat-icon svgIcon="mat:edit" (click)="editGoal(element, idx)"></mat-icon>
                            </td>
                          </ng-container>

                          <ng-container matColumnDef="delete">
                            <th mat-header-cell *matHeaderCellDef>  </th>
                            <td mat-cell *matCellDef="let element; let idx = index">
                              <mat-icon svgIcon="mat:delete" (click)="editGoal(element, idx)"></mat-icon>
                            </td>
                          </ng-container>

                          <tr mat-header-row *matHeaderRowDef="displayedSportColumns"></tr>
                          <tr mat-row *matRowDef="let row; columns: displayedSportColumns;"></tr>
                        </table>
                        <div class="flex-auto" style="margin: 1% 0 0 0">
                          <button class="add-date" mat-fab >
                            <mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </vex-page-layout-content>
              </vex-page-layout>
            </mat-tab>
            <mat-tab label="{{'others' | translate}}">
              <vex-page-layout>
                <vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
                  <div style="float: left; width: 100%;padding: 1%;margin: 0 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'extras' | translate}} / {{'course_options' | translate}}</h1>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.bookings.extras.text1' | translate}}<br>
                      {{'settings.bookings.extras.text2' | translate}}<br>
                      {{'settings.bookings.extras.text3' | translate}}<strong>{{'settings.bookings.extras.text3_1' | translate}}
                    </strong> {{'settings.bookings.extras.text3_2' | translate}}
                    </p>

                  </div>
                  <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">Forfait</h1>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.bookings.extras.text4' | translate}}<br>
                      {{'settings.bookings.extras.text5' | translate}}<br>
                    </p>

                  </div>

                  <table #forfaitTable id="table-extras-forfaits" mat-table [dataSource]="dataSourceForfait" matSort style="border: 1px solid #e6e6e6">

                    <ng-container matColumnDef="id">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>
                      <td mat-cell *matCellDef="let element"> {{ element.id }} </td>
                    </ng-container>

                    <ng-container matColumnDef="product">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'product' | translate}} </th>
                      <td mat-cell *matCellDef="let element"> {{ element.product }} </td>
                    </ng-container>

                    <ng-container matColumnDef="name">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'name' | translate}} </th>
                      <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
                    </ng-container>

                    <ng-container matColumnDef="price">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'price' | translate}} - CHF / {{'day' | translate}} </th>
                      <td mat-cell *matCellDef="let element"> {{ element.price }} {{ currency || 'CHF' }}/{{'day' | translate}} </td>
                    </ng-container>

                    <ng-container matColumnDef="tva">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'tva' | translate}} </th>
                      <td mat-cell *matCellDef="let element">
                        {{ element.tva }}
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="status">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'status' | translate}} </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-slide-toggle [checked]="element.status" [disabled]="true"></mat-slide-toggle>

                      </td>
                    </ng-container>

                    <ng-container matColumnDef="edit">
                      <th mat-header-cell *matHeaderCellDef>  </th>
                      <td mat-cell *matCellDef="let element; let idx = index">
                        <mat-icon svgIcon="mat:edit" (click)="createExtra('Forfait', true, idx, element)"></mat-icon>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="delete">
                      <th mat-header-cell *matHeaderCellDef>  </th>
                      <td mat-cell *matCellDef="let element; let idx = index">
                        <mat-icon svgIcon="mat:delete" (click)="deleteExtra(idx, 'Forfait')"></mat-icon>
                      </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedExtrasColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedExtrasColumns;"></tr>
                  </table>
                  <div class="flex-auto" style="margin: 1% 0 0 0" >
                    <button class="add-date" mat-fab (click)="createExtra('Forfait', false, null, null)" [disabled]="dataSourceForfait.data.length === 2">
                      <mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
                    </button>
                  </div>

                  <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 2% 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'transport' | translate}}</h1>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.bookings.extras.text7' | translate}}<br>
                      {{'settings.bookings.extras.text8' | translate}}<br>
                    </p>
                  </div>

                  <table *ngIf="false" #transportTable id="table-extras-transport" mat-table [dataSource]="dataSourceTransport" matSort style="border: 1px solid #e6e6e6">

                    <ng-container matColumnDef="id">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>
                      <td mat-cell *matCellDef="let element"> {{ element.id }} </td>
                    </ng-container>

                    <ng-container matColumnDef="product">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'product' | translate}} </th>
                      <td mat-cell *matCellDef="let element"> {{ element.product }} </td>
                    </ng-container>

                    <ng-container matColumnDef="name">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'name' | translate}} </th>
                      <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
                    </ng-container>

                    <ng-container matColumnDef="price">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'price' | translate}} - CHF / {{'day' | translate}} </th>
                      <td mat-cell *matCellDef="let element"> {{ element.price }} {{ currency || 'CHF' }}/{{'day' | translate}} </td>
                    </ng-container>

                    <ng-container matColumnDef="tva">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'tva' | translate}} </th>
                      <td mat-cell *matCellDef="let element">
                        {{ element.tva }}
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="status">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'status' | translate}} </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-slide-toggle [checked]="element.status" [disabled]="true"></mat-slide-toggle>

                      </td>
                    </ng-container>

                    <ng-container matColumnDef="edit">
                      <th mat-header-cell *matHeaderCellDef>  </th>
                      <td mat-cell *matCellDef="let element; let idx = index">
                        <mat-icon svgIcon="mat:edit" (click)="createExtra('Transport', true, idx, element)"></mat-icon>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="delete">
                      <th mat-header-cell *matHeaderCellDef>  </th>
                      <td mat-cell *matCellDef="let element; let idx = index">
                        <mat-icon svgIcon="mat:delete" (click)="deleteExtra(idx, 'Transport')"></mat-icon>
                      </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedExtrasColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedExtrasColumns;"></tr>
                  </table>
                  <div  class="flex-auto" style="margin: 1% 0 0 0">
                    <button class="add-date" mat-fab (click)="createExtra('Transport', false, null, null)" [disabled]="dataSourceTransport.data.length === 2">
                      <mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
                    </button>
                  </div>

                  <div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 2% 0 2% 0;">
                    <h1 style="color:#808080;font-size:24px;float: left; width: 100%;">{{'food' | translate}}</h1>
                    <p style="padding: 1%; color:#808080;float: left; width: 75%;">
                      {{'settings.bookings.extras.text9' | translate}}<br>
                      {{'settings.bookings.extras.text10' | translate}}<br>
                    </p>
                  </div>

                  <table #foodTable id="table-extras-food" mat-table [dataSource]="dataSourceFood" matSort style="border: 1px solid #e6e6e6">

                    <ng-container matColumnDef="id">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>
                      <td mat-cell *matCellDef="let element"> {{ element.id }} </td>
                    </ng-container>

                    <ng-container matColumnDef="product">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'product' | translate}} </th>
                      <td mat-cell *matCellDef="let element"> {{ element.product }} </td>
                    </ng-container>

                    <ng-container matColumnDef="name">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'name' | translate}} </th>
                      <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
                    </ng-container>

                    <ng-container matColumnDef="price">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'price' | translate}} - CHF / {{'day' | translate}} </th>
                      <td mat-cell *matCellDef="let element"> {{ element.price }} {{ currency || 'CHF' }}/{{'day' | translate}} </td>
                    </ng-container>

                    <ng-container matColumnDef="tva">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'tva' | translate}} </th>
                      <td mat-cell *matCellDef="let element">
                        {{ element.tva }}
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="status">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'status' | translate}} </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-slide-toggle [checked]="element.status" [disabled]="true"></mat-slide-toggle>

                      </td>
                    </ng-container>

                    <ng-container matColumnDef="edit">
                      <th mat-header-cell *matHeaderCellDef>  </th>
                      <td mat-cell *matCellDef="let element; let idx = index">
                        <mat-icon svgIcon="mat:edit" (click)="createExtra('Food', true, idx, element)"></mat-icon>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="delete">
                      <th mat-header-cell *matHeaderCellDef>  </th>
                      <td mat-cell *matCellDef="let element; let idx = index">
                        <mat-icon svgIcon="mat:delete" (click)="deleteExtra(idx, 'Food')"></mat-icon>
                      </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedExtrasColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedExtrasColumns;"></tr>
                  </table>

                  <div  class="flex-auto" style="margin: 1% 0 0 0">
                    <button class="add-date" mat-fab (click)="createExtra('Food', false, null, null)" [disabled]="dataSourceFood.data.length === 2">
                      <mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
                    </button>
                  </div>
                </vex-page-layout-content>
              </vex-page-layout>
            </mat-tab>
          </mat-tab-group>
        </mat-tab>
        <mat-tab label="Mails">

          <vex-page-layout>
            <vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
              <div class="main-container" style="display: flex; justify-content: space-between;">
                <!-- SecciÃ³n del Formulario -->
                <div class="form-container" style="flex: 1; margin-right: 1%;">
                  <h1 style="color:#808080;font-size:24px">{{'mailbox' | translate}}</h1>
                  <p style="padding: 1%; color:#808080">{{'compose' | translate}}</p>
                  <div class="block w-full">
                    <mat-form-field appearance="outline" style="width: 100%">
                      <mat-select placeholder="{{'mails.type' | translate}}" [(ngModel)]="mailType" (selectionChange)="setCurrentMailType()">
                        <mat-option value="booking_confirm">{{'mails.type1' | translate}}</mat-option>
                        <mat-option value="booking_cancel">{{'mails.type2' | translate}}</mat-option>
                        <mat-option value="booking_update">{{'mails.type3' | translate}}</mat-option>
                        <mat-option value="payment_link">{{'mails.type4' | translate}}</mat-option>
                        <mat-option value="payment_confirm">{{'mails.type5' | translate}}</mat-option>
                        <mat-option value="payment_reminder">{{'mails.type9' | translate}}</mat-option>
                        <mat-option value="voucher_confirm">{{'mails.type6' | translate}}</mat-option>
                        <mat-option value="voucher_create">{{'mails.type7' | translate}}</mat-option>
                        <mat-option value="course_reminder">{{'mails.type8' | translate}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <!--<input cdkFocusInitial matInput type="text"/>

                    <button (click)="toggleDropdown()" color="primary" mat-button matSuffix type="button">CC/BCC</button>-->
                  </div>

                  <!--<div [@dropdown]="dropdownOpen" class="overflow-hidden">
                    <mat-form-field appearance="outline" class="block w-full">
                      <mat-label>Cc</mat-label>
                      <input matInput type="text"/>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="block w-full">
                      <mat-label>Bcc</mat-label>
                      <input matInput type="text"/>
                    </mat-form-field>
                  </div>-->

                  <mat-tab-group [selectedIndex]="selectedIndex" (selectedTabChange)="onTabChange($event)">
                    <mat-tab label="{{'france' | translate }}">
                      <mat-form-field appearance="outline" class="block w-full">
                        <mat-label>{{'subject' | translate}}</mat-label>
                        <input matInput type="text" [(ngModel)]="subjectFr" [value]="subjectFr"/>
                      </mat-form-field>

                      <div class="vex-mail-compose-editor flex flex-col">
                        <p>{{ 'title' | translate }}</p>
                        <quill-editor [styles]="{ flex: '1 1 auto', display: 'flex', 'flex-direction': 'column' }"
                                      class="flex-auto flex flex-col" [(ngModel)]="titleFr"></quill-editor>
                      </div>

                      <div class="vex-mail-compose-editor flex flex-col">
                        <p>{{ 'message' | translate }}</p>
                        <quill-editor [styles]="{ flex: '1 1 auto', display: 'flex', 'flex-direction': 'column' }"
                                      class="flex-auto flex flex-col" [(ngModel)]="bodyFr"></quill-editor>
                      </div>

                    </mat-tab>
                    <mat-tab label="{{'english' | translate }}">
                      <mat-form-field appearance="outline" class="block w-full">
                        <mat-label>{{'subject' | translate}}</mat-label>
                        <input matInput type="text" [(ngModel)]="subjectEn" [value]="subjectEn"/>
                      </mat-form-field>

                      <div class="vex-mail-compose-editor flex flex-col">
                        <p>{{ 'title' | translate }}</p>
                        <quill-editor [styles]="{ flex: '1 1 auto', display: 'flex', 'flex-direction': 'column' }"
                                      class="flex-auto flex flex-col" [(ngModel)]="titleEn"></quill-editor>
                      </div>


                      <div class="vex-mail-compose-editor flex flex-col">
                        <quill-editor [styles]="{ flex: '1 1 auto', display: 'flex', 'flex-direction': 'column' }"
                                      class="flex-auto flex flex-col" [(ngModel)]="bodyEn"></quill-editor>
                      </div>
                    </mat-tab>
                    <mat-tab label="{{'spanish' | translate }}" >
                      <mat-form-field appearance="outline" class="block w-full">
                        <mat-label>{{'subject' | translate}}</mat-label>
                        <input matInput type="text" [(ngModel)]="subjectEs" [value]="subjectEs"/>
                      </mat-form-field>

                      <div class="vex-mail-compose-editor flex flex-col">
                        <p>{{ 'title' | translate }}</p>
                        <quill-editor [styles]="{ flex: '1 1 auto', display: 'flex', 'flex-direction': 'column' }"
                                      class="flex-auto flex flex-col" [(ngModel)]="titleEs"></quill-editor>
                      </div>


                      <div class="vex-mail-compose-editor flex flex-col">
                        <quill-editor [styles]="{ flex: '1 1 auto', display: 'flex', 'flex-direction': 'column' }"
                                      class="flex-auto flex flex-col" [(ngModel)]="bodyEs"></quill-editor>
                      </div>
                    </mat-tab>
                    <mat-tab label="{{'germany' | translate }}">
                      <mat-form-field appearance="outline" class="block w-full">
                        <mat-label>{{'subject' | translate}}</mat-label>
                        <input matInput type="text" [(ngModel)]="subjectIt" [value]="subjectIt"/>
                      </mat-form-field>

                      <div class="vex-mail-compose-editor flex flex-col">
                        <p>{{ 'title' | translate }}</p>
                        <quill-editor [styles]="{ flex: '1 1 auto', display: 'flex', 'flex-direction': 'column' }"
                                      class="flex-auto flex flex-col" [(ngModel)]="titleIt"></quill-editor>
                      </div>


                      <div class="vex-mail-compose-editor flex flex-col">
                        <quill-editor [styles]="{ flex: '1 1 auto', display: 'flex', 'flex-direction': 'column' }"
                                      class="flex-auto flex flex-col" [(ngModel)]="bodyIt"></quill-editor>
                      </div>
                    </mat-tab>
                    <mat-tab label="{{'italian' | translate }}">
                      <mat-form-field appearance="outline" class="block w-full">
                        <mat-label>{{'subject' | translate}}</mat-label>
                        <input matInput type="text" [(ngModel)]="subjectDe" [value]="subjectDe"/>
                      </mat-form-field>

                      <div class="vex-mail-compose-editor flex flex-col">
                        <p>{{ 'title' | translate }}</p>
                        <quill-editor [styles]="{ flex: '1 1 auto', display: 'flex', 'flex-direction': 'column' }"
                                      class="flex-auto flex flex-col" [(ngModel)]="titleDe"></quill-editor>
                      </div>


                      <div class="vex-mail-compose-editor flex flex-col">
                        <quill-editor [styles]="{ flex: '1 1 auto', display: 'flex', 'flex-direction': 'column' }"
                                      class="flex-auto flex flex-col" [(ngModel)]="bodyDe"></quill-editor>
                      </div>

                    </mat-tab>
                  </mat-tab-group>

                  <!--<div class="vex-mail-compose-attachment mt-4 mb-2 rounded-full border px-4 py-1 flex items-center hover:bg-hover transition duration-200 ease-in-out cursor-pointer relative"
                       matRipple>
                    <mat-icon class="flex-none text-primary icon-sm" svgIcon="mat:picture_as_pdf"></mat-icon>
                    <p class="flex-auto ml-4 text-sm">super-secret-design-document.pdf</p>

                    <p class="text-sm text-secondary mr-2 flex-none">54kb</p>
                    <button (click)="$event?.stopPropagation()" class="flex-none w-8 h-8 leading-none" mat-icon-button type="button">
                      <mat-icon class="icon-sm" svgIcon="mat:close"></mat-icon>
                    </button>
                  </div>

                  <div class="vex-mail-compose-attachment my-2 rounded-full border px-4 py-1 flex items-center hover:bg-hover transition duration-200 ease-in-out cursor-pointer relative"
                       matRipple>
                    <mat-icon class="flex-none text-primary icon-sm" svgIcon="mat:image"></mat-icon>
                    <p class="flex-auto ml-4 text-sm">cute-cat-picture.jpg</p>

                    <p class="text-sm text-secondary mr-2 flex-none">16kb</p>
                    <button (click)="$event?.stopPropagation()" class="flex-none w-8 h-8 leading-none" mat-icon-button type="button">
                      <mat-icon class="icon-sm" svgIcon="mat:close"></mat-icon>
                    </button>
                  </div>-->
                  <div style="padding: 1%;width: 100%;float: left;border: #e6e6e6 1px solid;">
                    <div style="float:left; width:100%">
                      <button class="btn-primary-accent" style="float: right;" (click)="saveDefaultMail()">{{'save' | translate}}</button>
                      <button class="btn-primary-accent" style="float: right; margin-right: 10px;" (click)="openPreview()">{{'preview' | translate}}</button>

                    </div>

                  </div>
                </div>
                <div class="preview-container" style="flex: 1; margin-left: 1%;overflow-y: auto;">
                  <h1 style="color:#808080;font-size:24px">{{'preview' | translate}}</h1>
                  <div class="preview-content" style="border: 1px solid #e6e6e6; padding: 1%; overflow-y: auto;">
                    <!-- AquÃ­ puedes mostrar el contenido del correo en vista previa -->
                    <vex-confirm-mail
                      [subject]="getEmailContent().subject"
                      [title]="getEmailContent().title"
                      [body]="getEmailContent().body"
                    >

                    </vex-confirm-mail>

                  </div>
                </div>
              </div>


            </vex-page-layout-content>

          </vex-page-layout>

        </mat-tab>
      </mat-tab-group>
    </div>
  </vex-page-layout-content>

</vex-page-layout>
