<vex-page-layout>
  <vex-page-layout-content class="fullwidth p-6">
    <!-- Nuevo diseño del dashboard con componentes modernos -->
    <div class="dashboard-container">
      
      <!-- Banner de Bienvenida -->
      <section class="welcome-section">
        <app-welcome-banner [data]="welcomeData"></app-welcome-banner>
      </section>

      <!-- Métricas Principales -->
      <section class="metrics-section">
        <div class="metrics-grid">
          <app-metric-card [config]="privateCourseMetric"></app-metric-card>
          <app-metric-card [config]="collectiveCourseMetric"></app-metric-card>
          <app-metric-card [config]="activeBookingsMetric"></app-metric-card>
          <app-metric-card [config]="dailySalesMetric"></app-metric-card>
        </div>
      </section>

      <!-- Widget Meteorológico -->
      <section class="weather-section">
        <app-weather-widget [data]="weatherData"></app-weather-widget>
      </section>

      <!-- Contenido Principal con Gráficos y Reservas -->
      <section class="main-content-section">
        <div class="content-grid">
          
          <!-- Gráfico de Ventas por Canal -->
          <div class="chart-container sales-chart">
            <div class="chart-header">
              <h3 class="chart-title">Ventas por Canal</h3>
              <div class="chart-period">Últimos 7 meses</div>
            </div>
            <div class="chart-content">
              <vex-widget-large-chart 
                [series]="salesChannelSeries" 
                [options]="salesChannelOptions">
              </vex-widget-large-chart>
            </div>
            <div class="chart-footer">
              <div class="chart-total">
                <div class="total-item admin">
                  <span class="total-label">Total Admin</span>
                  <span class="total-value">€22,320</span>
                  <span class="total-percentage">60% del total</span>
                </div>
                <div class="total-item online">
                  <span class="total-label">Total Online</span>
                  <span class="total-value">€14,890</span>
                  <span class="total-percentage">40% del total</span>
                </div>
                <div class="total-item objective">
                  <span class="total-label">Total Ventas</span>
                  <span class="total-value">€37,200</span>
                  <span class="total-percentage">+19% vs mes anterior</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Gráfico de Sesiones Diarias -->
          <div class="chart-container sessions-chart">
            <div class="chart-header">
              <h3 class="chart-title">Sesiones Diarias</h3>
              <div class="chart-period">Esta semana</div>
            </div>
            <div class="chart-content">
              <vex-widget-large-chart 
                [series]="dailySessionsSeries" 
                [options]="dailySessionsOptions">
              </vex-widget-large-chart>
            </div>
          </div>

        </div>
      </section>

      <!-- Reservas de Hoy -->
      <section class="bookings-section">
        <app-today-bookings-table 
          [data]="todayBookingsData"
          (bookingView)="onViewBooking($event)"
          (bookingEdit)="onEditBooking($event)"
          (bookingCancel)="onCancelBooking($event)"
          (bookingCreate)="onCreateBooking()"
          (fullAgendaOpen)="onOpenFullAgenda()">
        </app-today-bookings-table>
      </section>

    </div>
  </vex-page-layout-content>
</vex-page-layout>