<div class="dropdown">
	<div class="dropdown-header flex items-center justify-between">
		<div>
			<div class="dropdown-heading"
				style="color: white;">
				{{'notis' | translate}}
			</div>
			<div class="dropdown-subheading"
				style="color: white">
				{{'notis_1' | translate}} {{ notifications.length }} {{'notis_2' | translate}}.
			</div>
		</div>
		<button mat-icon-button type="button" (click)="loadNotifications()">
			<mat-icon class="notifications-header-icon" svgIcon="mat:refresh"></mat-icon>
		</button>
	</div>
	<div class="dropdown-content">
		<div *ngIf="loading" class="notification-empty">
			{{ 'loading' | translate }}
		</div>
		<div *ngIf="!loading && notifications.length === 0" class="notification-empty">
			{{ 'no_notifications' | translate }}
		</div>
		<a *ngFor="let notification of notifications; trackBy: trackById"
			[class.read]="notification.read_at"
			[routerLink]="[]"
			class="notification flex items-center"
			matRipple
			(click)="markRead(notification)">
			<mat-icon [svgIcon]="notification.read_at ? 'mat:notifications' : 'mat:notifications_active'"
				class="notification-icon flex-none"></mat-icon>
			<div class="flex-auto">
				<div class="notification-label">
					{{ getTitle(notification) }}
				</div>
				<div class="notification-description">
					{{ getBody(notification) }}
				</div>
				<div class="notification-description">
					{{ formatDate(notification.created_at) }}
				</div>
			</div>
		</a>
	</div>
	<div class="dropdown-footer flex items-center justify-center">
		<button mat-button type="button" (click)="markAllRead()">
			{{'mark_all_as_read' |translate | uppercase}}
		</button>
	</div>
</div>
