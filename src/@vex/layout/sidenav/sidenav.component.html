<div (mouseenter)="collapseOpenSidenav()"
  (mouseleave)="collapseCloseSidenav()"
  [class.collapsed]="collapsed"
  [class.open]="collapsed && collapsedOpen$ | async"
  class="sidenav flex flex-col">
  <div class="figma-sidebar-header">
    <div class="header-content">
      <div class="school-section" *ngIf="!collapsed">
        <div class="school-logo-container">
          <img [src]="imageUrl$ | async" alt="Logo" class="school-logo" />
        </div>
        <div class="school-info">
          <h2 class="school-name">{{ title$ | async }}</h2>
          <p class="school-subtitle">Escuela de Esquí</p>
        </div>
      </div>
      
      <div class="logo-only" *ngIf="collapsed">
        <div class="school-logo-container">
          <img [src]="imageUrl$ | async" alt="Logo" class="school-logo" />
        </div>
      </div>

      <button 
        (click)="toggleCollapse()"
        *ngIf="showCollapsePin$ | async"
        mat-icon-button
        class="collapse-toggle">
        <mat-icon *ngIf="collapsed">chevron_right</mat-icon>
        <mat-icon *ngIf="!collapsed">chevron_left</mat-icon>
      </button>
    </div>
  </div>

  <vex-scrollbar class="flex-1 flex flex-col">
    <div class="figma-navigation-area">
      <vex-sidenav-item
        *ngFor="let item of items; trackBy: trackByRoute; let i = index"
        [item]="item"
        [level]="0"></vex-sidenav-item>
    </div>

  </vex-scrollbar>
  
  <!-- Sección de soporte al final -->
  <div class="figma-support-section" *ngIf="!collapsed">
    <div class="support-card">
      <p class="support-title">¿Necesitas ayuda?</p>
      <p class="support-subtitle">Contacta nuestro soporte técnico</p>
      <button 
        mat-button 
        class="support-button" 
        (click)="openSupport()">
        Soporte
      </button>
    </div>
  </div>
</div>
